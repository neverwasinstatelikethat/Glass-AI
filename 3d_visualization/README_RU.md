# Модуль 3D визуализации

## Обзор

Модуль 3D визуализации предоставляет инструменты для создания интерактивных трехмерных представлений производственного процесса и дефектов стеклянных изделий. Этот модуль интегрируется с основной системой для отображения данных в реальном времени на дашборде оператора.

## Компоненты

### 1. ThreeJS Renderer (threejs_renderer.py)
Рендерер 3D сцен с использованием библиотеки Three.js.

#### Основные возможности:
- **Рендеринг 3D моделей**: Отображение 3D моделей стеклянных изделий
- **Анимации**: Плавные переходы и анимации элементов интерфейса
- **Интерактивность**: Поддержка пользовательских взаимодействий с 3D объектами
- **Оптимизация производительности**: Эффективное управление ресурсами GPU

### 2. Defect Overlay (defect_overlay.py)
Система наложения информации о дефектах на 3D модели.

#### Основные возможности:
- **Наложение дефектов**: Визуализация обнаруженных дефектов на 3D моделях изделий
- **Классификация дефектов**: Различные визуальные представления для разных типов дефектов
- **Динамическое обновление**: Реальное время обновления информации о дефектах
- **Цветовое кодирование**: Использование цветов для обозначения уровня серьезности дефектов

### 3. Realtime Sync (realtime_sync.py)
Синхронизация 3D визуализации с потоковыми данными в реальном времени.

#### Основные возможности:
- **Синхронизация данных**: Обновление 3D сцен в соответствии с потоковыми данными
- **WebSocket интеграция**: Получение данных через WebSocket соединения
- **Управление состоянием**: Поддержание согласованного состояния между данными и визуализацией
- **Обработка событий**: Реакция на события системы в реальном времени

## Использование

### Основной рендерер:
```javascript
// Инициализация Three.js рендерера
const renderer = new ThreeJSRenderer(containerElement);
renderer.initScene();
renderer.loadGlassModel(modelPath);
```

### Наложение дефектов:
```javascript
// Добавление информации о дефектах
const defectOverlay = new DefectOverlay(renderer.scene);
defectOverlay.addDefect({
    position: {x: 100, y: 50, z: 25},
    type: "crack",
    severity: "HIGH"
});
```

### Синхронизация в реальном времени:
```javascript
// Подключение к WebSocket
const sync = new RealtimeSync("ws://localhost:8000/visualization");
sync.onDataUpdate((data) => {
    renderer.updateScene(data);
    defectOverlay.updateDefects(data.defects);
});
```

## Интеграция

Модуль 3D визуализации тесно интегрирован с другими компонентами системы:
- **Дашборд**: Отображение 3D сцен в веб-интерфейсе оператора
- **ML-модели**: Получение данных о дефектах для визуализации
- **Потоковая обработка**: Синхронизация с потоковыми данными в реальном времени
- **Цифровой двойник**: Визуализация виртуальной копии производственного процесса

## Преимущества

1. **Интерактивность**: Полнофункциональная 3D визуализация с поддержкой пользовательских взаимодействий
2. **Реальное время**: Мгновенное отображение изменений в производственном процессе
3. **Интуитивность**: Понятное визуальное представление сложных данных
4. **Гибкость**: Поддержка различных типов 3D моделей и сценариев визуализации
5. **Производительность**: Оптимизированная работа даже на устройствах с ограниченными ресурсами