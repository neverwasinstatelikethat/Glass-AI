{"ast":null,"code":"import pipelineApis from './pipelineApi';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n// Generic fetch function with error handling\nconst apiFetch = async (endpoint, options = {}) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`API request failed with status ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(`Error fetching from ${endpoint}:`, error);\n    throw error;\n  }\n};\n\n// Knowledge Graph API functions\nexport const knowledgeGraphApi = {\n  // Get causes of a defect\n  getCausesOfDefect: async (defect, minConfidence = 0.5) => {\n    const data = await apiFetch(`/api/knowledge-graph/causes/${defect}?min_confidence=${minConfidence}`);\n    return data.causes || [];\n  },\n  // Get intervention recommendations\n  getRecommendations: async (defect, parameterValues) => {\n    const data = await apiFetch(`/api/knowledge-graph/recommendations/${defect}`, {\n      method: 'POST',\n      body: JSON.stringify({\n        parameter_values: parameterValues\n      })\n    });\n    return data.recommendations || [];\n  },\n  // Get subgraph for visualization\n  getSubgraph: async (defect, maxDepth = 2) => {\n    const data = await apiFetch(`/api/knowledge-graph/subgraph/${defect}?max_depth=${maxDepth}`);\n    return data;\n  }\n};\n\n// Other API functions that might be needed\nexport const systemApi = {\n  // Get system health status\n  getHealthStatus: async () => {\n    return await apiFetch('/health');\n  },\n  // Get model predictions\n  getModelPredictions: async () => {\n    return await apiFetch('/models/predictions');\n  },\n  // Get digital twin state\n  getDigitalTwinState: async () => {\n    return await apiFetch('/api/digital-twin/state');\n  }\n};\n\n// Export pipeline APIs for Phases 5-8\nexport const {\n  explainability: explainabilityApi,\n  metrics: metricsApi,\n  features: featuresApi,\n  autonomy: autonomyApi,\n  pipeline: pipelineApi,\n  training: trainingApi\n} = pipelineApis;","map":{"version":3,"names":["pipelineApis","API_BASE_URL","process","env","REACT_APP_API_URL","apiFetch","endpoint","options","response","fetch","headers","ok","Error","status","json","error","console","knowledgeGraphApi","getCausesOfDefect","defect","minConfidence","data","causes","getRecommendations","parameterValues","method","body","JSON","stringify","parameter_values","recommendations","getSubgraph","maxDepth","systemApi","getHealthStatus","getModelPredictions","getDigitalTwinState","explainability","explainabilityApi","metrics","metricsApi","features","featuresApi","autonomy","autonomyApi","pipeline","pipelineApi","training","trainingApi"],"sources":["C:/Users/hehehe/Desktop/scripts/glass_ai/frontend/src/services/api.ts"],"sourcesContent":["import { Cause, Recommendation, SubgraphData } from '../types/knowledgeGraph';\r\nimport pipelineApis from './pipelineApi';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n// Generic fetch function with error handling\r\nconst apiFetch = async (endpoint: string, options: RequestInit = {}) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      ...options,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      throw new Error(`API request failed with status ${response.status}`);\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(`Error fetching from ${endpoint}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Knowledge Graph API functions\r\nexport const knowledgeGraphApi = {\r\n  // Get causes of a defect\r\n  getCausesOfDefect: async (defect: string, minConfidence: number = 0.5): Promise<Cause[]> => {\r\n    const data = await apiFetch(`/api/knowledge-graph/causes/${defect}?min_confidence=${minConfidence}`);\r\n    return data.causes || [];\r\n  },\r\n\r\n  // Get intervention recommendations\r\n  getRecommendations: async (defect: string, parameterValues: Record<string, number>): Promise<Recommendation[]> => {\r\n    const data = await apiFetch(`/api/knowledge-graph/recommendations/${defect}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ parameter_values: parameterValues }),\r\n    });\r\n    return data.recommendations || [];\r\n  },\r\n\r\n  // Get subgraph for visualization\r\n  getSubgraph: async (defect: string, maxDepth: number = 2): Promise<SubgraphData> => {\r\n    const data = await apiFetch(`/api/knowledge-graph/subgraph/${defect}?max_depth=${maxDepth}`);\r\n    return data;\r\n  },\r\n};\r\n\r\n// Other API functions that might be needed\r\nexport const systemApi = {\r\n  // Get system health status\r\n  getHealthStatus: async () => {\r\n    return await apiFetch('/health');\r\n  },\r\n\r\n  // Get model predictions\r\n  getModelPredictions: async () => {\r\n    return await apiFetch('/models/predictions');\r\n  },\r\n\r\n  // Get digital twin state\r\n  getDigitalTwinState: async () => {  return await apiFetch('/api/digital-twin/state');\r\n  },\r\n};\r\n\r\n// Export pipeline APIs for Phases 5-8\r\nexport const { \r\n  explainability: explainabilityApi,\r\n  metrics: metricsApi,\r\n  features: featuresApi,\r\n  autonomy: autonomyApi,\r\n  pipeline: pipelineApi,\r\n  training: trainingApi\r\n} = pipelineApis;"],"mappings":"AACA,OAAOA,YAAY,MAAM,eAAe;AAExC,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;;AAE7E;AACA,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,QAAgB,EAAEC,OAAoB,GAAG,CAAC,CAAC,KAAK;EACtE,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,YAAY,GAAGK,QAAQ,EAAE,EAAE;MACzD,GAAGC,OAAO;MACVG,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,GAAGH,OAAO,CAACG;MACb;IACF,CAAC,CAAC;IAEF,IAAI,CAACF,QAAQ,CAACG,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,kCAAkCJ,QAAQ,CAACK,MAAM,EAAE,CAAC;IACtE;IAEA,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuBT,QAAQ,GAAG,EAAES,KAAK,CAAC;IACxD,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAME,iBAAiB,GAAG;EAC/B;EACAC,iBAAiB,EAAE,MAAAA,CAAOC,MAAc,EAAEC,aAAqB,GAAG,GAAG,KAAuB;IAC1F,MAAMC,IAAI,GAAG,MAAMhB,QAAQ,CAAC,+BAA+Bc,MAAM,mBAAmBC,aAAa,EAAE,CAAC;IACpG,OAAOC,IAAI,CAACC,MAAM,IAAI,EAAE;EAC1B,CAAC;EAED;EACAC,kBAAkB,EAAE,MAAAA,CAAOJ,MAAc,EAAEK,eAAuC,KAAgC;IAChH,MAAMH,IAAI,GAAG,MAAMhB,QAAQ,CAAC,wCAAwCc,MAAM,EAAE,EAAE;MAC5EM,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,gBAAgB,EAAEL;MAAgB,CAAC;IAC5D,CAAC,CAAC;IACF,OAAOH,IAAI,CAACS,eAAe,IAAI,EAAE;EACnC,CAAC;EAED;EACAC,WAAW,EAAE,MAAAA,CAAOZ,MAAc,EAAEa,QAAgB,GAAG,CAAC,KAA4B;IAClF,MAAMX,IAAI,GAAG,MAAMhB,QAAQ,CAAC,iCAAiCc,MAAM,cAAca,QAAQ,EAAE,CAAC;IAC5F,OAAOX,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMY,SAAS,GAAG;EACvB;EACAC,eAAe,EAAE,MAAAA,CAAA,KAAY;IAC3B,OAAO,MAAM7B,QAAQ,CAAC,SAAS,CAAC;EAClC,CAAC;EAED;EACA8B,mBAAmB,EAAE,MAAAA,CAAA,KAAY;IAC/B,OAAO,MAAM9B,QAAQ,CAAC,qBAAqB,CAAC;EAC9C,CAAC;EAED;EACA+B,mBAAmB,EAAE,MAAAA,CAAA,KAAY;IAAG,OAAO,MAAM/B,QAAQ,CAAC,yBAAyB,CAAC;EACpF;AACF,CAAC;;AAED;AACA,OAAO,MAAM;EACXgC,cAAc,EAAEC,iBAAiB;EACjCC,OAAO,EAAEC,UAAU;EACnBC,QAAQ,EAAEC,WAAW;EACrBC,QAAQ,EAAEC,WAAW;EACrBC,QAAQ,EAAEC,WAAW;EACrBC,QAAQ,EAAEC;AACZ,CAAC,GAAGhD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}