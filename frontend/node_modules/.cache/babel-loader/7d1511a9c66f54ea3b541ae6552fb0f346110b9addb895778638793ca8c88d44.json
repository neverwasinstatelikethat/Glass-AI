{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hehehe\\\\Desktop\\\\scripts\\\\glass_ai\\\\frontend\\\\src\\\\components\\\\DigitalTwin3D.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$();\nimport React, { useRef, useState, useEffect, useMemo } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { OrbitControls, Text } from '@react-three/drei';\nimport * as THREE from 'three';\nimport { Box, Chip, Paper, Typography, Slider, Button, Grid, Card, CardContent, Switch, FormControlLabel, Divider, Stack, LinearProgress, Tooltip, IconButton, Alert, Collapse } from '@mui/material';\nimport { Refresh, TrendingUp, Science, LocalFireDepartment, Thermostat, Speed, Warning, CheckCircle, Visibility, VisibilityOff } from '@mui/icons-material';\n\n// Интерфейсы типов\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Цветовая палитра РТУ МИРЭА\nconst MIREA_COLORS = {\n  primary: '#0066CC',\n  primaryDark: '#004C99',\n  primaryLight: '#3385D6',\n  secondary: '#FF6B35',\n  secondaryDark: '#CC5529',\n  accent: '#00D9FF',\n  success: '#00C853',\n  warning: '#FFA726',\n  error: '#EF5350',\n  background: '#0A0E1A',\n  backgroundLight: '#141824',\n  surface: '#1E2330',\n  surfaceLight: '#2A3142',\n  text: '#FFFFFF',\n  textSecondary: '#B0B8C8',\n  glass: 'rgba(255, 255, 255, 0.05)'\n};\n\n// Hook для WebSocket подключения\nconst useWebSocket = url => {\n  _s();\n  const [wsData, setWsData] = useState({\n    parameters: null,\n    defectAlerts: [],\n    isConnected: false\n  });\n  useEffect(() => {\n    const ws = new WebSocket(url);\n    ws.onopen = () => {\n      console.log('WebSocket connected');\n      setWsData(prev => ({\n        ...prev,\n        isConnected: true\n      }));\n    };\n    ws.onmessage = event => {\n      try {\n        const message = JSON.parse(event.data);\n        if (message.type === 'parameter_update') {\n          setWsData(prev => ({\n            ...prev,\n            parameters: message.data\n          }));\n        } else if (message.type === 'defect_alert') {\n          setWsData(prev => ({\n            ...prev,\n            defectAlerts: [...prev.defectAlerts.slice(-19), message.data]\n          }));\n        }\n      } catch (err) {\n        console.error('WebSocket parse error:', err);\n      }\n    };\n    ws.onclose = () => {\n      console.log('WebSocket disconnected');\n      setWsData(prev => ({\n        ...prev,\n        isConnected: false\n      }));\n    };\n    return () => ws.close();\n  }, [url]);\n  return wsData;\n};\n\n// Компонент: Дефекты на поверхности печи\n_s(useWebSocket, \"LgRhpUWNh9HOYN34bz2BGnLLeFk=\");\nconst FurnaceDefects = ({\n  defects,\n  position\n}) => {\n  _s2();\n  const groupRef = useRef(null);\n  const particles = useMemo(() => {\n    const totalDefects = Object.values(defects).reduce((sum, val) => sum + val, 0);\n    const count = Math.min(50, Math.floor(totalDefects * 100));\n    const defectColors = {\n      crack: MIREA_COLORS.error,\n      bubble: MIREA_COLORS.warning,\n      chip: MIREA_COLORS.secondary,\n      cloudiness: '#AAAAAA',\n      deformation: '#9C27B0',\n      stress: '#E91E63'\n    };\n    return Array.from({\n      length: count\n    }, (_, i) => {\n      // Генерация на поверхности прямоугольного параллелепипеда (4x3x3)\n      const face = Math.floor(Math.random() * 6);\n      let x = 0,\n        y = 0,\n        z = 0;\n      switch (face) {\n        case 0:\n          // front\n          x = (Math.random() - 0.5) * 4;\n          y = (Math.random() - 0.5) * 3;\n          z = 1.5;\n          break;\n        case 1:\n          // back\n          x = (Math.random() - 0.5) * 4;\n          y = (Math.random() - 0.5) * 3;\n          z = -1.5;\n          break;\n        case 2:\n          // right\n          x = 2;\n          y = (Math.random() - 0.5) * 3;\n          z = (Math.random() - 0.5) * 3;\n          break;\n        case 3:\n          // left\n          x = -2;\n          y = (Math.random() - 0.5) * 3;\n          z = (Math.random() - 0.5) * 3;\n          break;\n        case 4:\n          // top\n          x = (Math.random() - 0.5) * 4;\n          y = 1.5;\n          z = (Math.random() - 0.5) * 3;\n          break;\n        case 5:\n          // bottom\n          x = (Math.random() - 0.5) * 4;\n          y = -1.5;\n          z = (Math.random() - 0.5) * 3;\n          break;\n      }\n      const defectTypes = Object.keys(defects);\n      const selectedType = defectTypes[Math.floor(Math.random() * defectTypes.length)];\n      return {\n        position: [x, y, z],\n        color: defectColors[selectedType] || '#FFFFFF',\n        size: 0.03 + Math.random() * 0.05,\n        type: selectedType\n      };\n    });\n  }, [defects]);\n  useFrame(state => {\n    if (groupRef.current) {\n      // Легкое мерцание дефектов\n      groupRef.current.children.forEach((child, i) => {\n        if (child instanceof THREE.Mesh) {\n          const intensity = 0.5 + 0.3 * Math.sin(state.clock.elapsedTime * 3 + i);\n          child.material.emissiveIntensity = intensity;\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: groupRef,\n    position: position,\n    children: particles.map((particle, i) => /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: particle.position,\n      children: [/*#__PURE__*/_jsxDEV(\"sphereGeometry\", {\n        args: [particle.size]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: particle.color,\n        emissive: particle.color,\n        emissiveIntensity: 0.5,\n        transparent: true,\n        opacity: 0.7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n};\n\n// Компонент: Дефекты на формах\n_s2(FurnaceDefects, \"YkkWUE0P859Nh+7rW5F/1MVqw4o=\", false, function () {\n  return [useFrame];\n});\n_c = FurnaceDefects;\nconst MoldDefects = ({\n  defects,\n  positions\n}) => {\n  _s3();\n  const groupRef = useRef(null);\n  const particles = useMemo(() => {\n    const totalDefects = Object.values(defects).reduce((sum, val) => sum + val, 0);\n    const particlesPerMold = Math.min(15, Math.floor(totalDefects * 30 / positions.length));\n    const defectColors = {\n      crack: MIREA_COLORS.error,\n      bubble: MIREA_COLORS.warning,\n      chip: MIREA_COLORS.secondary,\n      cloudiness: '#AAAAAA',\n      deformation: '#9C27B0',\n      stress: '#E91E63'\n    };\n    const allParticles = [];\n    positions.forEach((moldPos, moldIndex) => {\n      for (let i = 0; i < particlesPerMold; i++) {\n        const angle = Math.random() * Math.PI * 2;\n        const height = (Math.random() - 0.5) * 0.8;\n        const radius = 0.6;\n        const x = Math.cos(angle) * radius;\n        const z = Math.sin(angle) * radius;\n        const defectTypes = Object.keys(defects);\n        const selectedType = defectTypes[Math.floor(Math.random() * defectTypes.length)];\n        allParticles.push({\n          position: [moldPos[0] + x, moldPos[1] + height + 0.5, moldPos[2] + z],\n          color: defectColors[selectedType] || '#FFFFFF',\n          size: 0.02 + Math.random() * 0.03,\n          type: selectedType\n        });\n      }\n    });\n    return allParticles;\n  }, [defects, positions]);\n  useFrame(state => {\n    if (groupRef.current) {\n      // Легкое вращение дефектов вокруг форм\n      groupRef.current.rotation.y += 0.001;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: groupRef,\n    children: particles.map((particle, i) => /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: particle.position,\n      children: [/*#__PURE__*/_jsxDEV(\"sphereGeometry\", {\n        args: [particle.size]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: particle.color,\n        emissive: particle.color,\n        emissiveIntensity: 0.6,\n        transparent: true,\n        opacity: 0.8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 5\n  }, this);\n};\n\n// Компонент: Печь с температурной визуализацией\n_s3(MoldDefects, \"YkkWUE0P859Nh+7rW5F/1MVqw4o=\", false, function () {\n  return [useFrame];\n});\n_c2 = MoldDefects;\nconst EnhancedFurnace = ({\n  temperature,\n  thermalField,\n  showField,\n  defects\n}) => {\n  _s4();\n  const furnaceRef = useRef(null);\n  const doorRef = useRef(null);\n  const [glowIntensity, setGlowIntensity] = useState(0);\n  useEffect(() => {\n    const intensity = Math.min(1, Math.max(0, (temperature - 1400) / 300));\n    setGlowIntensity(intensity);\n  }, [temperature]);\n  useFrame(state => {\n    if (furnaceRef.current && glowIntensity > 0.7) {\n      const pulse = Math.sin(state.clock.elapsedTime * 2) * 0.03;\n      furnaceRef.current.scale.set(1 + pulse, 1, 1 + pulse);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    position: [-6, 1.5, 0],\n    children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n      ref: furnaceRef,\n      position: [0, 0, 0],\n      castShadow: true,\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n        args: [4, 3, 3]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: MIREA_COLORS.secondary,\n        emissive: MIREA_COLORS.secondary,\n        emissiveIntensity: glowIntensity * 0.7,\n        metalness: 0.3,\n        roughness: 0.6\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      ref: doorRef,\n      position: [0, 0, 1.6],\n      castShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n        args: [2.5, 2, 0.15]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: MIREA_COLORS.error,\n        emissive: MIREA_COLORS.error,\n        emissiveIntensity: glowIntensity * 0.9,\n        metalness: 0.5,\n        roughness: 0.3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, 0.5, 1.65],\n      children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n        args: [1, 0.8, 0.05]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: \"#FFD700\",\n        emissive: \"#FFD700\",\n        emissiveIntensity: glowIntensity,\n        transparent: true,\n        opacity: 0.9\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this), [...Array(3)].map((_, i) => /*#__PURE__*/_jsxDEV(\"group\", {\n      position: [-1.5 + i * 1.5, -1.2, 0],\n      children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n        rotation: [Math.PI / 2, 0, 0],\n        children: [/*#__PURE__*/_jsxDEV(\"cylinderGeometry\", {\n          args: [0.15, 0.15, 0.8]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n          color: \"#333333\",\n          metalness: 0.8,\n          roughness: 0.2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n        position: [0, 0, 0.6],\n        rotation: [Math.PI, 0, 0],\n        children: [/*#__PURE__*/_jsxDEV(\"coneGeometry\", {\n          args: [0.2, 0.6, 8]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n          color: \"#FF4500\",\n          emissive: \"#FF4500\",\n          emissiveIntensity: glowIntensity * 1.2,\n          transparent: true,\n          opacity: 0.8\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Text, {\n      position: [0, 2.5, 0],\n      color: MIREA_COLORS.accent,\n      fontSize: 0.4,\n      fontWeight: 700,\n      anchorX: \"center\",\n      anchorY: \"middle\",\n      children: [temperature.toFixed(0), \"\\xB0C\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [-1.8, 1.3, 1.6],\n      children: [/*#__PURE__*/_jsxDEV(\"sphereGeometry\", {\n        args: [0.15]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: temperature > 1600 ? MIREA_COLORS.error : MIREA_COLORS.success,\n        emissive: temperature > 1600 ? MIREA_COLORS.error : MIREA_COLORS.success,\n        emissiveIntensity: 0.8\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FurnaceDefects, {\n      defects: defects,\n      position: [0, 0, 0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 338,\n    columnNumber: 5\n  }, this);\n};\n\n// Компонент: Визуализация температурного поля\n_s4(EnhancedFurnace, \"0GUryPHRq+BZhNLsj2eerbmtCD8=\", false, function () {\n  return [useFrame];\n});\n_c3 = EnhancedFurnace;\nconst ThermalFieldVisualization = ({\n  field,\n  position\n}) => {\n  _s5();\n  const meshRef = useRef(null);\n  useFrame(() => {\n    if (meshRef.current) {\n      meshRef.current.rotation.y += 0.001;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    ref: meshRef,\n    position: position,\n    children: field.map((row, i) => row.map((temp, j) => {\n      const normalizedTemp = (temp - 1000) / 1000;\n      const color = new THREE.Color().setHSL((1 - normalizedTemp) * 0.6, 1, 0.5);\n      return /*#__PURE__*/_jsxDEV(\"mesh\", {\n        position: [(i - field.length / 2) * 0.3, (j - row.length / 2) * 0.3, 0],\n        children: [/*#__PURE__*/_jsxDEV(\"sphereGeometry\", {\n          args: [0.08]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n          color: color,\n          emissive: color,\n          emissiveIntensity: normalizedTemp * 0.5,\n          transparent: true,\n          opacity: 0.6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 15\n        }, this)]\n      }, `${i}-${j}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 13\n      }, this);\n    }))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n};\n\n// Компонент: Формовочная линия с анимацией\n_s5(ThermalFieldVisualization, \"/vg1AmA8+P3+Fj0/y210JTVKtL0=\", false, function () {\n  return [useFrame];\n});\n_c4 = ThermalFieldVisualization;\nconst FormingLine = ({\n  speed,\n  moldTemp,\n  glass,\n  defects\n}) => {\n  _s6();\n  const beltRef = useRef(null);\n  const glassRef = useRef(null);\n  const [beltOffset, setBeltOffset] = useState(0);\n  const moldPositions = [[-4, 0.5, 0], [-1.5, 0.5, 0], [1, 0.5, 0], [3.5, 0.5, 0]];\n  useFrame(state => {\n    if (beltRef.current) {\n      const delta = state.clock.getDelta();\n      setBeltOffset(prev => (prev + speed * delta * 0.05) % 10);\n      beltRef.current.position.x = -4 + beltOffset;\n    }\n\n    // Анимация стекла\n    if (glassRef.current && glass) {\n      const pulse = Math.sin(state.clock.elapsedTime * 3) * 0.02;\n      glassRef.current.scale.set(1, 1 + pulse, 1);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"group\", {\n    position: [4, 0.5, 0],\n    children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, -0.3, 0],\n      castShadow: true,\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n        args: [10, 0.4, 2]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: MIREA_COLORS.surfaceLight,\n        metalness: 0.7,\n        roughness: 0.3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      ref: beltRef,\n      position: [0, 0, 0],\n      castShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n        args: [1.5, 0.05, 1.8]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: MIREA_COLORS.primary,\n        metalness: 0.6,\n        roughness: 0.4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 7\n    }, this), moldPositions.map((pos, i) => {\n      const tempColor = moldTemp > 350 ? MIREA_COLORS.error : MIREA_COLORS.warning;\n      const intensity = moldTemp > 350 ? 0.4 : 0.1;\n      return /*#__PURE__*/_jsxDEV(\"group\", {\n        position: pos,\n        children: [/*#__PURE__*/_jsxDEV(\"mesh\", {\n          castShadow: true,\n          children: [/*#__PURE__*/_jsxDEV(\"cylinderGeometry\", {\n            args: [0.6, 0.6, 0.8]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n            color: tempColor,\n            emissive: tempColor,\n            emissiveIntensity: intensity,\n            metalness: 0.5,\n            roughness: 0.5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this), glass && i === 1 && /*#__PURE__*/_jsxDEV(\"mesh\", {\n          ref: glassRef,\n          position: [0, 0.5, 0],\n          castShadow: true,\n          children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n            args: [1, 0.3, 1]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"meshPhysicalMaterial\", {\n            color: MIREA_COLORS.accent,\n            transparent: true,\n            opacity: 0.7,\n            metalness: 0.1,\n            roughness: 0.1,\n            transmission: 0.9,\n            thickness: 0.5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          position: [0, 1.5, 0],\n          color: MIREA_COLORS.textSecondary,\n          fontSize: 0.25,\n          anchorX: \"center\",\n          children: [moldTemp.toFixed(0), \"\\xB0C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(MoldDefects, {\n      defects: defects,\n      positions: moldPositions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      position: [0, -1, 0],\n      color: MIREA_COLORS.accent,\n      fontSize: 0.35,\n      fontWeight: 700,\n      anchorX: \"center\",\n      children: [speed.toFixed(0), \" \\u043C/\\u043C\\u0438\\u043D\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 498,\n    columnNumber: 5\n  }, this);\n};\n\n// Компонент: Освещение и фон\n_s6(FormingLine, \"we2ZqOnTYSRDNAKgo6brLC0F+Hc=\", false, function () {\n  return [useFrame];\n});\n_c5 = FormingLine;\nconst SceneLighting = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n      position: [10, 10, 10],\n      intensity: 1.5,\n      castShadow: true,\n      \"shadow-mapSize-width\": 2048,\n      \"shadow-mapSize-height\": 2048\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n      position: [-10, 5, -10],\n      intensity: 0.8,\n      color: MIREA_COLORS.primary\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"spotLight\", {\n      position: [0, 15, 0],\n      angle: 0.4,\n      penumbra: 1,\n      intensity: 2,\n      castShadow: true,\n      color: MIREA_COLORS.accent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      rotation: [-Math.PI / 2, 0, 0],\n      position: [0, -0.5, 0],\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {\n        args: [40, 40]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: MIREA_COLORS.background,\n        metalness: 0.3,\n        roughness: 0.7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"gridHelper\", {\n      args: [40, 40, MIREA_COLORS.primary, MIREA_COLORS.surfaceLight],\n      position: [0, -0.49, 0]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n// Компонент: 3D сцена\n_c6 = SceneLighting;\nconst DigitalTwinScene = ({\n  furnaceTemp,\n  moldTemp,\n  beltSpeed,\n  defects,\n  thermalField,\n  showThermalField,\n  showDefects\n}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SceneLighting, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(EnhancedFurnace, {\n      temperature: furnaceTemp,\n      thermalField: thermalField,\n      showField: showThermalField,\n      defects: defects\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormingLine, {\n      speed: beltSpeed,\n      moldTemp: moldTemp,\n      glass: true,\n      defects: defects\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 660,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"mesh\", {\n      position: [0, 4, -5],\n      receiveShadow: true,\n      children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n        args: [25, 8, 1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n        color: MIREA_COLORS.surfaceLight,\n        metalness: 0.5,\n        roughness: 0.5,\n        transparent: true,\n        opacity: 0.3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 670,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      position: [0, 7, 0],\n      color: MIREA_COLORS.primary,\n      fontSize: 0.8,\n      fontWeight: 900,\n      anchorX: \"center\",\n      anchorY: \"middle\",\n      children: \"\\u0420\\u0422\\u0423 \\u041C\\u0418\\u0420\\u042D\\u0410 \\u2022 Digital Twin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n      enablePan: true,\n      enableZoom: true,\n      enableRotate: true,\n      maxPolarAngle: Math.PI / 2,\n      minDistance: 5,\n      maxDistance: 30\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 691,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n// Главный компонент\n_c7 = DigitalTwinScene;\nconst EnhancedDigitalTwin3D = () => {\n  _s7();\n  const wsData = useWebSocket('ws://localhost:8000/ws/realtime');\n  const [realState, setRealState] = useState({\n    furnaceTemp: 1520,\n    moldTemp: 320,\n    beltSpeed: 150,\n    defects: {\n      crack: 0.1,\n      bubble: 0.05,\n      chip: 0.03,\n      cloudiness: 0.02,\n      deformation: 0.01,\n      stress: 0.015\n    }\n  });\n  const [whatIfState, setWhatIfState] = useState({\n    furnaceTemp: 1520,\n    moldTemp: 320,\n    beltSpeed: 150\n  });\n  const [whatIfDefects, setWhatIfDefects] = useState({});\n  const [shadowMode, setShadowMode] = useState(false);\n  const [whatIfMode, setWhatIfMode] = useState(false);\n  const [isSimulating, setIsSimulating] = useState(false);\n  const [showThermalField, setShowThermalField] = useState(true);\n  const [showDefects, setShowDefects] = useState(true);\n  const [showPhysics, setShowPhysics] = useState(false);\n  const [thermalField, setThermalField] = useState(null);\n  useEffect(() => {\n    if (wsData.parameters) {\n      setRealState(prev => {\n        var _wsData$parameters, _wsData$parameters$fu, _wsData$parameters2, _wsData$parameters2$f, _wsData$parameters3, _wsData$parameters3$f, _wsData$parameters4;\n        return {\n          ...prev,\n          furnaceTemp: ((_wsData$parameters = wsData.parameters) === null || _wsData$parameters === void 0 ? void 0 : (_wsData$parameters$fu = _wsData$parameters.furnace) === null || _wsData$parameters$fu === void 0 ? void 0 : _wsData$parameters$fu.temperature) || prev.furnaceTemp,\n          moldTemp: ((_wsData$parameters2 = wsData.parameters) === null || _wsData$parameters2 === void 0 ? void 0 : (_wsData$parameters2$f = _wsData$parameters2.forming) === null || _wsData$parameters2$f === void 0 ? void 0 : _wsData$parameters2$f.mold_temp) || prev.moldTemp,\n          beltSpeed: ((_wsData$parameters3 = wsData.parameters) === null || _wsData$parameters3 === void 0 ? void 0 : (_wsData$parameters3$f = _wsData$parameters3.forming) === null || _wsData$parameters3$f === void 0 ? void 0 : _wsData$parameters3$f.speed) || prev.beltSpeed,\n          defects: ((_wsData$parameters4 = wsData.parameters) === null || _wsData$parameters4 === void 0 ? void 0 : _wsData$parameters4.defects) || prev.defects\n        };\n      });\n    }\n  }, [wsData.parameters]);\n  useEffect(() => {\n    // Generate synthetic thermal field\n    const field = Array.from({\n      length: 10\n    }, (_, i) => Array.from({\n      length: 10\n    }, (_, j) => {\n      const centerDist = Math.sqrt(Math.pow(i - 5, 2) + Math.pow(j - 5, 2));\n      return 1000 + (realState.furnaceTemp - 1000) * Math.exp(-centerDist / 5);\n    }));\n    setThermalField(field);\n  }, [realState.furnaceTemp]);\n  const simulateWhatIf = async () => {\n    setIsSimulating(true);\n    try {\n      const response = await fetch('http://localhost:8000/api/digital-twin/what-if', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          parameter_changes: {\n            furnace_temperature: whatIfState.furnaceTemp,\n            belt_speed: whatIfState.beltSpeed,\n            mold_temperature: whatIfState.moldTemp\n          }\n        })\n      });\n      const data = await response.json();\n      if (data.impact_analysis) {\n        const impact = data.impact_analysis;\n        const newDefects = {};\n        Object.keys(realState.defects).forEach(key => {\n          newDefects[key] = Math.max(0, Math.min(1, realState.defects[key] * (1 + (impact.defect_rate_change_percent || 0) / 100)));\n        });\n        setWhatIfDefects(newDefects);\n      }\n    } catch (err) {\n      console.error('What-If simulation error:', err);\n      // Fallback to simple calculation\n      const tempDev = Math.abs(whatIfState.furnaceTemp - 1520) / 30;\n      const speedDev = Math.abs(whatIfState.beltSpeed - 150) / 10;\n      setWhatIfDefects({\n        crack: Math.min(tempDev * 0.3, 0.5),\n        bubble: Math.min(tempDev * 0.2, 0.4),\n        chip: Math.min(speedDev * 0.25, 0.35),\n        cloudiness: Math.min(tempDev * 0.15, 0.3),\n        deformation: Math.min(speedDev * 0.2, 0.3),\n        stress: Math.min(tempDev * 0.25, 0.4)\n      });\n    }\n    setTimeout(() => setIsSimulating(false), 800);\n  };\n  const resetWhatIf = () => {\n    setWhatIfState({\n      furnaceTemp: realState.furnaceTemp,\n      moldTemp: realState.moldTemp,\n      beltSpeed: realState.beltSpeed\n    });\n    setWhatIfDefects({});\n  };\n  const handleSliderChange = (key, value) => {\n    const numValue = Array.isArray(value) ? value[0] : value;\n    setWhatIfState(prev => ({\n      ...prev,\n      [key]: numValue\n    }));\n  };\n  const displayState = whatIfMode ? {\n    ...whatIfState,\n    defects: Object.keys(whatIfDefects).length > 0 ? whatIfDefects : realState.defects\n  } : realState;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      minHeight: '100vh',\n      background: `linear-gradient(135deg, ${MIREA_COLORS.background} 0%, ${MIREA_COLORS.backgroundLight} 100%)`,\n      p: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 2,\n        background: `linear-gradient(135deg, ${MIREA_COLORS.surface}CC 0%, ${MIREA_COLORS.surfaceLight}CC 100%)`,\n        backdropFilter: 'blur(20px)',\n        border: `1px solid ${MIREA_COLORS.primary}40`,\n        boxShadow: `0 8px 32px ${MIREA_COLORS.primary}20`\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              sx: {\n                color: MIREA_COLORS.text,\n                fontWeight: 900,\n                background: `linear-gradient(90deg, ${MIREA_COLORS.primary}, ${MIREA_COLORS.accent})`,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1\n              },\n              children: \"\\uD83C\\uDFED \\u0426\\u0438\\u0444\\u0440\\u043E\\u0432\\u043E\\u0439 \\u0414\\u0432\\u043E\\u0439\\u043D\\u0438\\u043A \\u2022 \\u0420\\u0422\\u0423 \\u041C\\u0418\\u0420\\u042D\\u0410\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                color: MIREA_COLORS.textSecondary,\n                mt: 0.5\n              },\n              children: \"\\u0418\\u043D\\u0442\\u0435\\u043B\\u043B\\u0435\\u043A\\u0442\\u0443\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0430 \\u043C\\u043E\\u043D\\u0438\\u0442\\u043E\\u0440\\u0438\\u043D\\u0433\\u0430 \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0441\\u0442\\u0432\\u0430 \\u0441\\u0442\\u0435\\u043A\\u043B\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              direction: \"row\",\n              spacing: 1,\n              justifyContent: \"flex-end\",\n              flexWrap: \"wrap\",\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                icon: wsData.isConnected ? /*#__PURE__*/_jsxDEV(CheckCircle, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 857,\n                  columnNumber: 46\n                }, this) : /*#__PURE__*/_jsxDEV(Warning, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 857,\n                  columnNumber: 64\n                }, this),\n                label: wsData.isConnected ? 'Подключено' : 'Отключено',\n                color: wsData.isConnected ? 'success' : 'error',\n                size: \"small\",\n                sx: {\n                  fontWeight: 700,\n                  background: wsData.isConnected ? MIREA_COLORS.success : MIREA_COLORS.error,\n                  color: MIREA_COLORS.text\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Switch, {\n                    checked: shadowMode,\n                    onChange: e => {\n                      setShadowMode(e.target.checked);\n                      if (e.target.checked) setWhatIfMode(false);\n                    },\n                    sx: {\n                      '& .MuiSwitch-switchBase.Mui-checked': {\n                        color: MIREA_COLORS.primary\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 871,\n                    columnNumber: 23\n                  }, this),\n                  label: \"Shadow Mode\",\n                  sx: {\n                    mr: 1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 869,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Switch, {\n                    checked: whatIfMode,\n                    onChange: e => {\n                      setWhatIfMode(e.target.checked);\n                      if (e.target.checked) setShadowMode(false);\n                    },\n                    sx: {\n                      '& .MuiSwitch-switchBase.Mui-checked': {\n                        color: MIREA_COLORS.secondary\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 890,\n                    columnNumber: 23\n                  }, this),\n                  label: \"What-If\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: whatIfMode ? 8 : 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 8,\n          sx: {\n            height: '700px',\n            position: 'relative',\n            overflow: 'hidden',\n            background: MIREA_COLORS.background,\n            border: `2px solid ${whatIfMode ? MIREA_COLORS.secondary : MIREA_COLORS.primary}60`,\n            borderRadius: 2,\n            boxShadow: `0 8px 32px ${MIREA_COLORS.primary}30`\n          },\n          children: [/*#__PURE__*/_jsxDEV(Canvas, {\n            shadows: true,\n            camera: {\n              position: [12, 8, 12],\n              fov: 60\n            },\n            children: /*#__PURE__*/_jsxDEV(DigitalTwinScene, {\n              furnaceTemp: displayState.furnaceTemp,\n              moldTemp: displayState.moldTemp,\n              beltSpeed: displayState.beltSpeed,\n              defects: displayState.defects,\n              thermalField: thermalField,\n              showThermalField: showThermalField,\n              showDefects: showDefects\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            spacing: 1,\n            sx: {\n              position: 'absolute',\n              top: 16,\n              right: 16,\n              background: `${MIREA_COLORS.surface}CC`,\n              backdropFilter: 'blur(10px)',\n              p: 1.5,\n              borderRadius: 2,\n              border: `1px solid ${MIREA_COLORS.primary}40`,\n              display: 'flex',\n              flexDirection: 'column'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"\\u0422\\u0435\\u043F\\u043B\\u043E\\u0432\\u043E\\u0435 \\u043F\\u043E\\u043B\\u0435\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: () => setShowThermalField(!showThermalField),\n                sx: {\n                  color: showThermalField ? MIREA_COLORS.accent : MIREA_COLORS.textSecondary,\n                  '&:hover': {\n                    background: `${MIREA_COLORS.primary}20`\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(Thermostat, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 967,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 959,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"\\u0414\\u0435\\u0444\\u0435\\u043A\\u0442\\u044B\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: () => setShowDefects(!showDefects),\n                sx: {\n                  color: showDefects ? MIREA_COLORS.error : MIREA_COLORS.textSecondary,\n                  '&:hover': {\n                    background: `${MIREA_COLORS.primary}20`\n                  }\n                },\n                children: showDefects ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 34\n                }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 980,\n                  columnNumber: 51\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"\\u0424\\u0438\\u0437\\u0438\\u043A\\u0430\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                size: \"small\",\n                onClick: () => setShowPhysics(!showPhysics),\n                sx: {\n                  color: showPhysics ? MIREA_COLORS.primary : MIREA_COLORS.textSecondary,\n                  '&:hover': {\n                    background: `${MIREA_COLORS.primary}20`\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(Science, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 993,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 943,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'absolute',\n              bottom: 16,\n              left: 16,\n              background: `${MIREA_COLORS.surface}E6`,\n              backdropFilter: 'blur(15px)',\n              p: 2,\n              borderRadius: 2,\n              border: `1px solid ${MIREA_COLORS.primary}60`,\n              minWidth: 280\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              sx: {\n                color: MIREA_COLORS.textSecondary,\n                fontWeight: 700,\n                display: 'block',\n                mb: 1\n              },\n              children: \"\\uD83D\\uDCCA \\u041F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0441\\u0442\\u0432\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 1,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    color: MIREA_COLORS.text,\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 0.5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(LocalFireDepartment, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1019,\n                    columnNumber: 21\n                  }, this), \" \\u041F\\u0435\\u0447\\u044C:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1018,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: `${displayState.furnaceTemp}°C`,\n                  size: \"small\",\n                  sx: {\n                    background: `linear-gradient(90deg, ${MIREA_COLORS.secondary}, ${MIREA_COLORS.error})`,\n                    color: MIREA_COLORS.text,\n                    fontWeight: 700\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1021,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1017,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    color: MIREA_COLORS.text,\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 0.5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Thermostat, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1034,\n                    columnNumber: 21\n                  }, this), \" \\u0424\\u043E\\u0440\\u043C\\u0430:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1033,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: `${displayState.moldTemp}°C`,\n                  size: \"small\",\n                  sx: {\n                    background: MIREA_COLORS.warning,\n                    color: MIREA_COLORS.background,\n                    fontWeight: 700\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    color: MIREA_COLORS.text,\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 0.5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Speed, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1049,\n                    columnNumber: 21\n                  }, this), \" \\u0421\\u043A\\u043E\\u0440\\u043E\\u0441\\u0442\\u044C:\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1048,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: `${displayState.beltSpeed} м/мин`,\n                  size: \"small\",\n                  sx: {\n                    background: MIREA_COLORS.primary,\n                    color: MIREA_COLORS.text,\n                    fontWeight: 700\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1051,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 1.5,\n                borderColor: `${MIREA_COLORS.primary}40`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1063,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              sx: {\n                color: MIREA_COLORS.textSecondary,\n                fontWeight: 700,\n                display: 'block',\n                mb: 1\n              },\n              children: \"\\u26A0\\uFE0F \\u0414\\u0435\\u0444\\u0435\\u043A\\u0442\\u044B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 0.5,\n              children: Object.entries(displayState.defects).map(([type, prob]) => /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    color: MIREA_COLORS.textSecondary,\n                    minWidth: 90,\n                    textTransform: 'capitalize'\n                  },\n                  children: [type, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1072,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n                  variant: \"determinate\",\n                  value: prob * 100,\n                  sx: {\n                    flex: 1,\n                    height: 6,\n                    borderRadius: 3,\n                    background: `${MIREA_COLORS.glass}40`,\n                    '& .MuiLinearProgress-bar': {\n                      background: prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success,\n                      borderRadius: 3\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1075,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    color: MIREA_COLORS.text,\n                    fontWeight: 700,\n                    minWidth: 40,\n                    textAlign: 'right'\n                  },\n                  children: [(prob * 100).toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1089,\n                  columnNumber: 21\n                }, this)]\n              }, type, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1071,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1069,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 999,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 915,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 914,\n        columnNumber: 9\n      }, this), whatIfMode && /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 8,\n          sx: {\n            height: '700px',\n            overflow: 'auto',\n            background: `linear-gradient(180deg, ${MIREA_COLORS.surface}F2 0%, ${MIREA_COLORS.surfaceLight}F2 100%)`,\n            backdropFilter: 'blur(20px)',\n            p: 3,\n            border: `2px solid ${MIREA_COLORS.secondary}80`,\n            borderRadius: 2,\n            boxShadow: `0 8px 32px ${MIREA_COLORS.secondary}30`\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              color: MIREA_COLORS.text,\n              mb: 2,\n              fontWeight: 900,\n              background: `linear-gradient(90deg, ${MIREA_COLORS.secondary}, ${MIREA_COLORS.warning})`,\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1\n            },\n            children: \"\\uD83E\\uDDEA What-If \\u0410\\u043D\\u0430\\u043B\\u0438\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              mb: 3,\n              borderColor: `${MIREA_COLORS.secondary}40`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                color: MIREA_COLORS.text,\n                mb: 1,\n                fontWeight: 700,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(LocalFireDepartment, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1134,\n                columnNumber: 19\n              }, this), \" \\u0422\\u0435\\u043C\\u043F\\u0435\\u0440\\u0430\\u0442\\u0443\\u0440\\u0430 \\u043F\\u0435\\u0447\\u0438: \", whatIfState.furnaceTemp, \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: whatIfState.furnaceTemp,\n              onChange: (_, value) => handleSliderChange('furnaceTemp', value),\n              min: 1400,\n              max: 1700,\n              step: 5,\n              marks: [{\n                value: 1400,\n                label: '1400'\n              }, {\n                value: 1520,\n                label: '1520'\n              }, {\n                value: 1700,\n                label: '1700'\n              }],\n              sx: {\n                color: MIREA_COLORS.secondary,\n                '& .MuiSlider-markLabel': {\n                  color: MIREA_COLORS.textSecondary,\n                  fontSize: '0.7rem'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                color: MIREA_COLORS.text,\n                mb: 1,\n                fontWeight: 700,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(Thermostat, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 19\n              }, this), \" \\u0422\\u0435\\u043C\\u043F\\u0435\\u0440\\u0430\\u0442\\u0443\\u0440\\u0430 \\u0444\\u043E\\u0440\\u043C\\u044B: \", whatIfState.moldTemp, \"\\xB0C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: whatIfState.moldTemp,\n              onChange: (_, value) => handleSliderChange('moldTemp', value),\n              min: 280,\n              max: 380,\n              step: 5,\n              marks: [{\n                value: 280,\n                label: '280'\n              }, {\n                value: 320,\n                label: '320'\n              }, {\n                value: 380,\n                label: '380'\n              }],\n              sx: {\n                color: MIREA_COLORS.warning,\n                '& .MuiSlider-markLabel': {\n                  color: MIREA_COLORS.textSecondary,\n                  fontSize: '0.7rem'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1162,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                color: MIREA_COLORS.text,\n                mb: 1,\n                fontWeight: 700,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(Speed, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1186,\n                columnNumber: 19\n              }, this), \" \\u0421\\u043A\\u043E\\u0440\\u043E\\u0441\\u0442\\u044C \\u043B\\u0435\\u043D\\u0442\\u044B: \", whatIfState.beltSpeed, \" \\u043C/\\u043C\\u0438\\u043D\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1185,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: whatIfState.beltSpeed,\n              onChange: (_, value) => handleSliderChange('beltSpeed', value),\n              min: 100,\n              max: 200,\n              step: 5,\n              marks: [{\n                value: 100,\n                label: '100'\n              }, {\n                value: 150,\n                label: '150'\n              }, {\n                value: 200,\n                label: '200'\n              }],\n              sx: {\n                color: MIREA_COLORS.primary,\n                '& .MuiSlider-markLabel': {\n                  color: MIREA_COLORS.textSecondary,\n                  fontSize: '0.7rem'\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            spacing: 1,\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              fullWidth: true,\n              onClick: simulateWhatIf,\n              disabled: isSimulating,\n              startIcon: isSimulating ? null : /*#__PURE__*/_jsxDEV(TrendingUp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1216,\n                columnNumber: 52\n              }, this),\n              sx: {\n                background: `linear-gradient(45deg, ${MIREA_COLORS.secondary} 30%, ${MIREA_COLORS.warning} 90%)`,\n                fontWeight: 700,\n                boxShadow: `0 4px 16px ${MIREA_COLORS.secondary}40`,\n                '&:hover': {\n                  background: `linear-gradient(45deg, ${MIREA_COLORS.secondaryDark} 30%, ${MIREA_COLORS.warning} 90%)`,\n                  boxShadow: `0 6px 20px ${MIREA_COLORS.secondary}60`\n                },\n                '&.Mui-disabled': {\n                  background: MIREA_COLORS.surfaceLight,\n                  color: MIREA_COLORS.textSecondary\n                }\n              },\n              children: isSimulating ? 'Анализ...' : 'Симулировать'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              onClick: resetWhatIf,\n              startIcon: /*#__PURE__*/_jsxDEV(Refresh, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1237,\n                columnNumber: 30\n              }, this),\n              sx: {\n                borderColor: MIREA_COLORS.text,\n                color: MIREA_COLORS.text,\n                fontWeight: 700,\n                '&:hover': {\n                  borderColor: MIREA_COLORS.primary,\n                  background: `${MIREA_COLORS.primary}20`\n                }\n              },\n              children: \"\\u0421\\u0431\\u0440\\u043E\\u0441\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1234,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 2,\n              borderColor: `${MIREA_COLORS.secondary}40`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 15\n          }, this), Object.keys(whatIfDefects).length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                color: MIREA_COLORS.text,\n                mb: 2,\n                fontWeight: 700\n              },\n              children: \"\\uD83D\\uDCCA \\u041F\\u0440\\u043E\\u0433\\u043D\\u043E\\u0437 \\u0434\\u0435\\u0444\\u0435\\u043A\\u0442\\u043E\\u0432:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1257,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 1.5,\n              children: Object.entries(whatIfDefects).map(([type, prob]) => /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  bgcolor: `${prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success}15`,\n                  border: '1px solid',\n                  borderColor: prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success,\n                  boxShadow: `0 4px 12px ${prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success}20`\n                },\n                children: /*#__PURE__*/_jsxDEV(CardContent, {\n                  sx: {\n                    py: 1.5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"caption\",\n                    sx: {\n                      color: MIREA_COLORS.textSecondary,\n                      textTransform: 'capitalize'\n                    },\n                    children: type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1273,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    sx: {\n                      color: prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success,\n                      fontWeight: 900\n                    },\n                    children: [(prob * 100).toFixed(1), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1276,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1272,\n                  columnNumber: 25\n                }, this)\n              }, type, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1263,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1261,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Alert, {\n              severity: Object.values(whatIfDefects).some(v => v > 0.3) ? \"error\" : \"success\",\n              sx: {\n                mt: 2,\n                background: `${Object.values(whatIfDefects).some(v => v > 0.3) ? MIREA_COLORS.error : MIREA_COLORS.success}15`,\n                border: '1px solid',\n                borderColor: Object.values(whatIfDefects).some(v => v > 0.3) ? MIREA_COLORS.error : MIREA_COLORS.success,\n                '& .MuiAlert-icon': {\n                  color: Object.values(whatIfDefects).some(v => v > 0.3) ? MIREA_COLORS.error : MIREA_COLORS.success\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                sx: {\n                  fontWeight: 700\n                },\n                children: Object.values(whatIfDefects).some(v => v > 0.3) ? '⚠️ Параметры выходят за оптимальные значения. Высокий риск дефектов!' : '✅ Параметры в норме. Качество продукции стабильно.'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1300,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1288,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1256,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 912,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      in: showPhysics,\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mt: 2,\n          background: `${MIREA_COLORS.surface}F2`,\n          backdropFilter: 'blur(20px)',\n          border: `1px solid ${MIREA_COLORS.primary}40`,\n          boxShadow: `0 8px 32px ${MIREA_COLORS.primary}20`\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              color: MIREA_COLORS.text,\n              mb: 2,\n              fontWeight: 900,\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Science, {\n              sx: {\n                color: MIREA_COLORS.primary\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 15\n            }, this), \"\\u0424\\u0438\\u0437\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u043F\\u0430\\u0440\\u0430\\u043C\\u0435\\u0442\\u0440\\u044B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 2,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  background: `${MIREA_COLORS.surfaceLight}CC`,\n                  border: `1px solid ${MIREA_COLORS.accent}40`,\n                  height: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    color: MIREA_COLORS.textSecondary\n                  },\n                  children: \"\\u0412\\u044F\\u0437\\u043A\\u043E\\u0441\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1338,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  sx: {\n                    color: MIREA_COLORS.accent,\n                    fontWeight: 900\n                  },\n                  children: [(1000 + Math.random() * 500).toFixed(0), \" Pa\\xB7s\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1341,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1337,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1336,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  background: `${MIREA_COLORS.surfaceLight}CC`,\n                  border: `1px solid ${MIREA_COLORS.warning}40`,\n                  height: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    color: MIREA_COLORS.textSecondary\n                  },\n                  children: \"\\u0422\\u0435\\u043F\\u043B\\u043E\\u043F\\u0440\\u043E\\u0432\\u043E\\u0434\\u043D\\u043E\\u0441\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1349,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  sx: {\n                    color: MIREA_COLORS.warning,\n                    fontWeight: 900\n                  },\n                  children: \"1.4 W/(m\\xB7K)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1352,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1348,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  background: `${MIREA_COLORS.surfaceLight}CC`,\n                  border: `1px solid ${MIREA_COLORS.error}40`,\n                  height: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    color: MIREA_COLORS.textSecondary\n                  },\n                  children: \"\\u0422\\u0435\\u043F\\u043B\\u043E\\u0432\\u043E\\u0435 \\u0440\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1360,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  sx: {\n                    color: MIREA_COLORS.error,\n                    fontWeight: 900\n                  },\n                  children: \"9\\xD710\\u207B\\u2076 K\\u207B\\xB9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1363,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1359,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1358,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 3,\n              children: /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 2,\n                  background: `${MIREA_COLORS.surfaceLight}CC`,\n                  border: `1px solid ${MIREA_COLORS.success}40`,\n                  height: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  sx: {\n                    color: MIREA_COLORS.textSecondary\n                  },\n                  children: \"\\u041F\\u043B\\u043E\\u0442\\u043D\\u043E\\u0441\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1371,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h5\",\n                  sx: {\n                    color: MIREA_COLORS.success,\n                    fontWeight: 900\n                  },\n                  children: \"2500 kg/m\\xB3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1374,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1370,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1369,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1322,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1315,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1314,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 820,\n    columnNumber: 5\n  }, this);\n};\n_s7(EnhancedDigitalTwin3D, \"ZOUSGY6fWFS0EWOIvxTad2mgCeI=\", false, function () {\n  return [useWebSocket];\n});\n_c8 = EnhancedDigitalTwin3D;\nexport default EnhancedDigitalTwin3D;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"FurnaceDefects\");\n$RefreshReg$(_c2, \"MoldDefects\");\n$RefreshReg$(_c3, \"EnhancedFurnace\");\n$RefreshReg$(_c4, \"ThermalFieldVisualization\");\n$RefreshReg$(_c5, \"FormingLine\");\n$RefreshReg$(_c6, \"SceneLighting\");\n$RefreshReg$(_c7, \"DigitalTwinScene\");\n$RefreshReg$(_c8, \"EnhancedDigitalTwin3D\");","map":{"version":3,"names":["React","useRef","useState","useEffect","useMemo","Canvas","useFrame","OrbitControls","Text","THREE","Box","Chip","Paper","Typography","Slider","Button","Grid","Card","CardContent","Switch","FormControlLabel","Divider","Stack","LinearProgress","Tooltip","IconButton","Alert","Collapse","Refresh","TrendingUp","Science","LocalFireDepartment","Thermostat","Speed","Warning","CheckCircle","Visibility","VisibilityOff","jsxDEV","_jsxDEV","Fragment","_Fragment","MIREA_COLORS","primary","primaryDark","primaryLight","secondary","secondaryDark","accent","success","warning","error","background","backgroundLight","surface","surfaceLight","text","textSecondary","glass","useWebSocket","url","_s","wsData","setWsData","parameters","defectAlerts","isConnected","ws","WebSocket","onopen","console","log","prev","onmessage","event","message","JSON","parse","data","type","slice","err","onclose","close","FurnaceDefects","defects","position","_s2","groupRef","particles","totalDefects","Object","values","reduce","sum","val","count","Math","min","floor","defectColors","crack","bubble","chip","cloudiness","deformation","stress","Array","from","length","_","i","face","random","x","y","z","defectTypes","keys","selectedType","color","size","state","current","children","forEach","child","Mesh","intensity","sin","clock","elapsedTime","material","emissiveIntensity","ref","map","particle","args","fileName","_jsxFileName","lineNumber","columnNumber","emissive","transparent","opacity","_c","MoldDefects","positions","_s3","particlesPerMold","allParticles","moldPos","moldIndex","angle","PI","height","radius","cos","push","rotation","_c2","EnhancedFurnace","temperature","thermalField","showField","_s4","furnaceRef","doorRef","glowIntensity","setGlowIntensity","max","pulse","scale","set","castShadow","receiveShadow","metalness","roughness","fontSize","fontWeight","anchorX","anchorY","toFixed","_c3","ThermalFieldVisualization","field","_s5","meshRef","row","temp","j","normalizedTemp","Color","setHSL","_c4","FormingLine","speed","moldTemp","_s6","beltRef","glassRef","beltOffset","setBeltOffset","moldPositions","delta","getDelta","pos","tempColor","transmission","thickness","_c5","SceneLighting","penumbra","_c6","DigitalTwinScene","furnaceTemp","beltSpeed","showThermalField","showDefects","enablePan","enableZoom","enableRotate","maxPolarAngle","minDistance","maxDistance","_c7","EnhancedDigitalTwin3D","_s7","realState","setRealState","whatIfState","setWhatIfState","whatIfDefects","setWhatIfDefects","shadowMode","setShadowMode","whatIfMode","setWhatIfMode","isSimulating","setIsSimulating","setShowThermalField","setShowDefects","showPhysics","setShowPhysics","setThermalField","_wsData$parameters","_wsData$parameters$fu","_wsData$parameters2","_wsData$parameters2$f","_wsData$parameters3","_wsData$parameters3$f","_wsData$parameters4","furnace","forming","mold_temp","centerDist","sqrt","pow","exp","simulateWhatIf","response","fetch","method","headers","body","stringify","parameter_changes","furnace_temperature","belt_speed","mold_temperature","json","impact_analysis","impact","newDefects","key","defect_rate_change_percent","tempDev","abs","speedDev","setTimeout","resetWhatIf","handleSliderChange","value","numValue","isArray","displayState","sx","width","minHeight","p","mb","backdropFilter","border","boxShadow","container","spacing","alignItems","item","xs","md","variant","WebkitBackgroundClip","WebkitTextFillColor","display","gap","mt","direction","justifyContent","flexWrap","icon","label","control","checked","onChange","e","target","mr","elevation","overflow","borderRadius","shadows","camera","fov","top","right","flexDirection","title","onClick","bottom","left","minWidth","my","borderColor","entries","prob","textTransform","flex","textAlign","step","marks","fullWidth","disabled","startIcon","bgcolor","py","severity","some","v","in","_c8","$RefreshReg$"],"sources":["C:/Users/hehehe/Desktop/scripts/glass_ai/frontend/src/components/DigitalTwin3D.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { Canvas, useFrame } from '@react-three/fiber';\r\nimport { OrbitControls, Text } from '@react-three/drei';\r\nimport * as THREE from 'three';\r\nimport { \r\n  Box, Chip, Paper, Typography, Slider, Button, \r\n  Grid, Card, CardContent, Switch, FormControlLabel, Divider,\r\n  Stack, LinearProgress, Tooltip, IconButton, Alert, Collapse\r\n} from '@mui/material';\r\nimport { \r\n  PlayArrow, Pause, Refresh, TrendingUp, Science,\r\n  LocalFireDepartment, Thermostat, Speed, Warning, CheckCircle,\r\n  Visibility, VisibilityOff, Info, ExpandMore, ExpandLess\r\n} from '@mui/icons-material';\r\n\r\n// Интерфейсы типов\r\ninterface MIREAColors {\r\n  primary: string;\r\n  primaryDark: string;\r\n  primaryLight: string;\r\n  secondary: string;\r\n  secondaryDark: string;\r\n  accent: string;\r\n  success: string;\r\n  warning: string;\r\n  error: string;\r\n  background: string;\r\n  backgroundLight: string;\r\n  surface: string;\r\n  surfaceLight: string;\r\n  text: string;\r\n  textSecondary: string;\r\n  glass: string;\r\n}\r\n\r\ninterface WebSocketData {\r\n  parameters: any;\r\n  defectAlerts: any[];\r\n  isConnected: boolean;\r\n}\r\n\r\ninterface FurnaceProps {\r\n  temperature: number;\r\n  thermalField: number[][] | null;\r\n  showField: boolean;\r\n  defects: { [key: string]: number };\r\n}\r\n\r\ninterface ThermalFieldProps {\r\n  field: number[][];\r\n  position: [number, number, number];\r\n}\r\n\r\ninterface FormingLineProps {\r\n  speed: number;\r\n  moldTemp: number;\r\n  glass: boolean;\r\n  defects: { [key: string]: number };\r\n}\r\n\r\ninterface DefectParticlesProps {\r\n  defects: { [key: string]: number };\r\n  showDefects: boolean;\r\n  furnacePosition: [number, number, number];\r\n  moldPositions: Array<[number, number, number]>;\r\n}\r\n\r\ninterface DigitalTwinSceneProps {\r\n  furnaceTemp: number;\r\n  moldTemp: number;\r\n  beltSpeed: number;\r\n  defects: { [key: string]: number };\r\n  thermalField: number[][] | null;\r\n  showThermalField: boolean;\r\n  showDefects: boolean;\r\n}\r\n\r\n// Цветовая палитра РТУ МИРЭА\r\nconst MIREA_COLORS: MIREAColors = {\r\n  primary: '#0066CC',\r\n  primaryDark: '#004C99',\r\n  primaryLight: '#3385D6',\r\n  secondary: '#FF6B35',\r\n  secondaryDark: '#CC5529',\r\n  accent: '#00D9FF',\r\n  success: '#00C853',\r\n  warning: '#FFA726',\r\n  error: '#EF5350',\r\n  background: '#0A0E1A',\r\n  backgroundLight: '#141824',\r\n  surface: '#1E2330',\r\n  surfaceLight: '#2A3142',\r\n  text: '#FFFFFF',\r\n  textSecondary: '#B0B8C8',\r\n  glass: 'rgba(255, 255, 255, 0.05)'\r\n};\r\n\r\n// Hook для WebSocket подключения\r\nconst useWebSocket = (url: string): WebSocketData => {\r\n  const [wsData, setWsData] = useState<WebSocketData>({\r\n    parameters: null,\r\n    defectAlerts: [],\r\n    isConnected: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    const ws = new WebSocket(url);\r\n    \r\n    ws.onopen = () => {\r\n      console.log('WebSocket connected');\r\n      setWsData(prev => ({ ...prev, isConnected: true }));\r\n    };\r\n    \r\n    ws.onmessage = (event) => {\r\n      try {\r\n        const message = JSON.parse(event.data);\r\n        \r\n        if (message.type === 'parameter_update') {\r\n          setWsData(prev => ({\r\n            ...prev,\r\n            parameters: message.data\r\n          }));\r\n        } else if (message.type === 'defect_alert') {\r\n          setWsData(prev => ({\r\n            ...prev,\r\n            defectAlerts: [...prev.defectAlerts.slice(-19), message.data]\r\n          }));\r\n        }\r\n      } catch (err) {\r\n        console.error('WebSocket parse error:', err);\r\n      }\r\n    };\r\n    \r\n    ws.onclose = () => {\r\n      console.log('WebSocket disconnected');\r\n      setWsData(prev => ({ ...prev, isConnected: false }));\r\n    };\r\n    \r\n    return () => ws.close();\r\n  }, [url]);\r\n\r\n  return wsData;\r\n};\r\n\r\n// Компонент: Дефекты на поверхности печи\r\nconst FurnaceDefects = ({ defects, position }: { defects: { [key: string]: number }, position: [number, number, number] }) => {\r\n  const groupRef = useRef<THREE.Group>(null);\r\n  \r\n  const particles = useMemo(() => {\r\n    const totalDefects = Object.values(defects).reduce((sum: number, val: number) => sum + val, 0);\r\n    const count = Math.min(50, Math.floor(totalDefects * 100));\r\n    \r\n    const defectColors = {\r\n      crack: MIREA_COLORS.error,\r\n      bubble: MIREA_COLORS.warning,\r\n      chip: MIREA_COLORS.secondary,\r\n      cloudiness: '#AAAAAA',\r\n      deformation: '#9C27B0',\r\n      stress: '#E91E63'\r\n    };\r\n    \r\n    return Array.from({ length: count }, (_, i) => {\r\n      // Генерация на поверхности прямоугольного параллелепипеда (4x3x3)\r\n      const face = Math.floor(Math.random() * 6);\r\n      let x = 0, y = 0, z = 0;\r\n      \r\n      switch(face) {\r\n        case 0: // front\r\n          x = (Math.random() - 0.5) * 4;\r\n          y = (Math.random() - 0.5) * 3;\r\n          z = 1.5;\r\n          break;\r\n        case 1: // back\r\n          x = (Math.random() - 0.5) * 4;\r\n          y = (Math.random() - 0.5) * 3;\r\n          z = -1.5;\r\n          break;\r\n        case 2: // right\r\n          x = 2;\r\n          y = (Math.random() - 0.5) * 3;\r\n          z = (Math.random() - 0.5) * 3;\r\n          break;\r\n        case 3: // left\r\n          x = -2;\r\n          y = (Math.random() - 0.5) * 3;\r\n          z = (Math.random() - 0.5) * 3;\r\n          break;\r\n        case 4: // top\r\n          x = (Math.random() - 0.5) * 4;\r\n          y = 1.5;\r\n          z = (Math.random() - 0.5) * 3;\r\n          break;\r\n        case 5: // bottom\r\n          x = (Math.random() - 0.5) * 4;\r\n          y = -1.5;\r\n          z = (Math.random() - 0.5) * 3;\r\n          break;\r\n      }\r\n      \r\n      const defectTypes = Object.keys(defects);\r\n      const selectedType = defectTypes[Math.floor(Math.random() * defectTypes.length)];\r\n      \r\n      return {\r\n        position: [x, y, z] as [number, number, number],\r\n        color: (defectColors as any)[selectedType] || '#FFFFFF',\r\n        size: 0.03 + Math.random() * 0.05,\r\n        type: selectedType\r\n      };\r\n    });\r\n  }, [defects]);\r\n  \r\n  useFrame((state) => {\r\n    if (groupRef.current) {\r\n      // Легкое мерцание дефектов\r\n      groupRef.current.children.forEach((child, i) => {\r\n        if (child instanceof THREE.Mesh) {\r\n          const intensity = 0.5 + 0.3 * Math.sin(state.clock.elapsedTime * 3 + i);\r\n          child.material.emissiveIntensity = intensity;\r\n        }\r\n      });\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <group ref={groupRef} position={position}>\r\n      {particles.map((particle, i) => (\r\n        <mesh key={i} position={particle.position}>\r\n          <sphereGeometry args={[particle.size]} />\r\n          <meshStandardMaterial \r\n            color={particle.color}\r\n            emissive={particle.color}\r\n            emissiveIntensity={0.5}\r\n            transparent\r\n            opacity={0.7}\r\n          />\r\n        </mesh>\r\n      ))}\r\n    </group>\r\n  );\r\n};\r\n\r\n// Компонент: Дефекты на формах\r\nconst MoldDefects = ({ defects, positions }: { defects: { [key: string]: number }, positions: Array<[number, number, number]> }) => {\r\n  const groupRef = useRef<THREE.Group>(null);\r\n  \r\n  const particles = useMemo(() => {\r\n    const totalDefects = Object.values(defects).reduce((sum: number, val: number) => sum + val, 0);\r\n    const particlesPerMold = Math.min(15, Math.floor(totalDefects * 30 / positions.length));\r\n    \r\n    const defectColors = {\r\n      crack: MIREA_COLORS.error,\r\n      bubble: MIREA_COLORS.warning,\r\n      chip: MIREA_COLORS.secondary,\r\n      cloudiness: '#AAAAAA',\r\n      deformation: '#9C27B0',\r\n      stress: '#E91E63'\r\n    };\r\n    \r\n    const allParticles: Array<{\r\n      position: [number, number, number];\r\n      color: string;\r\n      size: number;\r\n      type: string;\r\n    }> = [];\r\n    \r\n    positions.forEach((moldPos, moldIndex) => {\r\n      for (let i = 0; i < particlesPerMold; i++) {\r\n        const angle = Math.random() * Math.PI * 2;\r\n        const height = (Math.random() - 0.5) * 0.8;\r\n        const radius = 0.6;\r\n        \r\n        const x = Math.cos(angle) * radius;\r\n        const z = Math.sin(angle) * radius;\r\n        \r\n        const defectTypes = Object.keys(defects);\r\n        const selectedType = defectTypes[Math.floor(Math.random() * defectTypes.length)];\r\n        \r\n        allParticles.push({\r\n          position: [\r\n            moldPos[0] + x,\r\n            moldPos[1] + height + 0.5,\r\n            moldPos[2] + z\r\n          ],\r\n          color: (defectColors as any)[selectedType] || '#FFFFFF',\r\n          size: 0.02 + Math.random() * 0.03,\r\n          type: selectedType\r\n        });\r\n      }\r\n    });\r\n    \r\n    return allParticles;\r\n  }, [defects, positions]);\r\n  \r\n  useFrame((state) => {\r\n    if (groupRef.current) {\r\n      // Легкое вращение дефектов вокруг форм\r\n      groupRef.current.rotation.y += 0.001;\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <group ref={groupRef}>\r\n      {particles.map((particle, i) => (\r\n        <mesh key={i} position={particle.position}>\r\n          <sphereGeometry args={[particle.size]} />\r\n          <meshStandardMaterial \r\n            color={particle.color}\r\n            emissive={particle.color}\r\n            emissiveIntensity={0.6}\r\n            transparent\r\n            opacity={0.8}\r\n          />\r\n        </mesh>\r\n      ))}\r\n    </group>\r\n  );\r\n};\r\n\r\n// Компонент: Печь с температурной визуализацией\r\nconst EnhancedFurnace = ({ temperature, thermalField, showField, defects }: FurnaceProps) => {\r\n  const furnaceRef = useRef<THREE.Mesh>(null);\r\n  const doorRef = useRef<THREE.Mesh>(null);\r\n  const [glowIntensity, setGlowIntensity] = useState(0);\r\n  \r\n  useEffect(() => {\r\n    const intensity = Math.min(1, Math.max(0, (temperature - 1400) / 300));\r\n    setGlowIntensity(intensity);\r\n  }, [temperature]);\r\n  \r\n  useFrame((state) => {\r\n    if (furnaceRef.current && glowIntensity > 0.7) {\r\n      const pulse = Math.sin(state.clock.elapsedTime * 2) * 0.03;\r\n      furnaceRef.current.scale.set(1 + pulse, 1, 1 + pulse);\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <group position={[-6, 1.5, 0]}>\r\n      {/* Основной корпус печи */}\r\n      <mesh ref={furnaceRef} position={[0, 0, 0]} castShadow receiveShadow>\r\n        <boxGeometry args={[4, 3, 3]} />\r\n        <meshStandardMaterial \r\n          color={MIREA_COLORS.secondary}\r\n          emissive={MIREA_COLORS.secondary}\r\n          emissiveIntensity={glowIntensity * 0.7}\r\n          metalness={0.3}\r\n          roughness={0.6}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Дверца печи */}\r\n      <mesh ref={doorRef} position={[0, 0, 1.6]} castShadow>\r\n        <boxGeometry args={[2.5, 2, 0.15]} />\r\n        <meshStandardMaterial \r\n          color={MIREA_COLORS.error}\r\n          emissive={MIREA_COLORS.error}\r\n          emissiveIntensity={glowIntensity * 0.9}\r\n          metalness={0.5}\r\n          roughness={0.3}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Окно печи */}\r\n      <mesh position={[0, 0.5, 1.65]}>\r\n        <boxGeometry args={[1, 0.8, 0.05]} />\r\n        <meshStandardMaterial \r\n          color=\"#FFD700\"\r\n          emissive=\"#FFD700\"\r\n          emissiveIntensity={glowIntensity}\r\n          transparent\r\n          opacity={0.9}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Горелки */}\r\n      {[...Array(3)].map((_, i) => (\r\n        <group key={i} position={[-1.5 + i * 1.5, -1.2, 0]}>\r\n          <mesh rotation={[Math.PI / 2, 0, 0]}>\r\n            <cylinderGeometry args={[0.15, 0.15, 0.8]} />\r\n            <meshStandardMaterial color=\"#333333\" metalness={0.8} roughness={0.2} />\r\n          </mesh>\r\n          {/* Flame effect */}\r\n          <mesh position={[0, 0, 0.6]} rotation={[Math.PI, 0, 0]}>\r\n            <coneGeometry args={[0.2, 0.6, 8]} />\r\n            <meshStandardMaterial \r\n              color=\"#FF4500\"\r\n              emissive=\"#FF4500\"\r\n              emissiveIntensity={glowIntensity * 1.2}\r\n              transparent\r\n              opacity={0.8}\r\n            />\r\n          </mesh>\r\n        </group>\r\n      ))}\r\n      \r\n      {/* Temperature label */}\r\n      <Text\r\n        position={[0, 2.5, 0]}\r\n        color={MIREA_COLORS.accent}\r\n        fontSize={0.4}\r\n        fontWeight={700}\r\n        anchorX=\"center\"\r\n        anchorY=\"middle\"\r\n      >\r\n        {temperature.toFixed(0)}°C\r\n      </Text>\r\n      \r\n      {/* Status indicator */}\r\n      <mesh position={[-1.8, 1.3, 1.6]}>\r\n        <sphereGeometry args={[0.15]} />\r\n        <meshStandardMaterial \r\n          color={temperature > 1600 ? MIREA_COLORS.error : MIREA_COLORS.success}\r\n          emissive={temperature > 1600 ? MIREA_COLORS.error : MIREA_COLORS.success}\r\n          emissiveIntensity={0.8}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Дефекты на печи */}\r\n      <FurnaceDefects defects={defects} position={[0, 0, 0]} />\r\n    </group>\r\n  );\r\n};\r\n\r\n// Компонент: Визуализация температурного поля\r\nconst ThermalFieldVisualization = ({ field, position }: ThermalFieldProps) => {\r\n  const meshRef = useRef<THREE.Group>(null);\r\n  \r\n  useFrame(() => {\r\n    if (meshRef.current) {\r\n      meshRef.current.rotation.y += 0.001;\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <group ref={meshRef} position={position}>\r\n      {field.map((row, i) =>\r\n        row.map((temp, j) => {\r\n          const normalizedTemp = (temp - 1000) / 1000;\r\n          const color = new THREE.Color().setHSL(\r\n            (1 - normalizedTemp) * 0.6, \r\n            1, \r\n            0.5\r\n          );\r\n          \r\n          return (\r\n            <mesh \r\n              key={`${i}-${j}`}\r\n              position={[\r\n                (i - field.length / 2) * 0.3,\r\n                (j - row.length / 2) * 0.3,\r\n                0\r\n              ]}\r\n            >\r\n              <sphereGeometry args={[0.08]} />\r\n              <meshStandardMaterial \r\n                color={color}\r\n                emissive={color}\r\n                emissiveIntensity={normalizedTemp * 0.5}\r\n                transparent\r\n                opacity={0.6}\r\n              />\r\n            </mesh>\r\n          );\r\n        })\r\n      )}\r\n    </group>\r\n  );\r\n};\r\n\r\n// Компонент: Формовочная линия с анимацией\r\nconst FormingLine = ({ speed, moldTemp, glass, defects }: FormingLineProps) => {\r\n  const beltRef = useRef<THREE.Mesh>(null);\r\n  const glassRef = useRef<THREE.Mesh>(null);\r\n  const [beltOffset, setBeltOffset] = useState(0);\r\n  \r\n  const moldPositions: Array<[number, number, number]> = [\r\n    [-4, 0.5, 0],\r\n    [-1.5, 0.5, 0],\r\n    [1, 0.5, 0],\r\n    [3.5, 0.5, 0]\r\n  ];\r\n  \r\n  useFrame((state) => {\r\n    if (beltRef.current) {\r\n      const delta = state.clock.getDelta();\r\n      setBeltOffset((prev) => (prev + speed * delta * 0.05) % 10);\r\n      beltRef.current.position.x = -4 + beltOffset;\r\n    }\r\n    \r\n    // Анимация стекла\r\n    if (glassRef.current && glass) {\r\n      const pulse = Math.sin(state.clock.elapsedTime * 3) * 0.02;\r\n      glassRef.current.scale.set(1, 1 + pulse, 1);\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <group position={[4, 0.5, 0]}>\r\n      {/* Основание конвейера */}\r\n      <mesh position={[0, -0.3, 0]} castShadow receiveShadow>\r\n        <boxGeometry args={[10, 0.4, 2]} />\r\n        <meshStandardMaterial \r\n          color={MIREA_COLORS.surfaceLight}\r\n          metalness={0.7}\r\n          roughness={0.3}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Движущаяся лента */}\r\n      <mesh \r\n        ref={beltRef}\r\n        position={[0, 0, 0]} \r\n        castShadow\r\n      >\r\n        <boxGeometry args={[1.5, 0.05, 1.8]} />\r\n        <meshStandardMaterial \r\n          color={MIREA_COLORS.primary}\r\n          metalness={0.6}\r\n          roughness={0.4}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Формы для стекла */}\r\n      {moldPositions.map((pos, i) => {\r\n        const tempColor = moldTemp > 350 ? MIREA_COLORS.error : MIREA_COLORS.warning;\r\n        const intensity = moldTemp > 350 ? 0.4 : 0.1;\r\n        \r\n        return (\r\n          <group key={i} position={pos}>\r\n            <mesh castShadow>\r\n              <cylinderGeometry args={[0.6, 0.6, 0.8]} />\r\n              <meshStandardMaterial \r\n                color={tempColor}\r\n                emissive={tempColor}\r\n                emissiveIntensity={intensity}\r\n                metalness={0.5}\r\n                roughness={0.5}\r\n              />\r\n            </mesh>\r\n            \r\n            {/* Glass piece */}\r\n            {glass && i === 1 && (\r\n              <mesh \r\n                ref={glassRef}\r\n                position={[0, 0.5, 0]}\r\n                castShadow\r\n              >\r\n                <boxGeometry args={[1, 0.3, 1]} />\r\n                <meshPhysicalMaterial \r\n                  color={MIREA_COLORS.accent}\r\n                  transparent\r\n                  opacity={0.7}\r\n                  metalness={0.1}\r\n                  roughness={0.1}\r\n                  transmission={0.9}\r\n                  thickness={0.5}\r\n                />\r\n              </mesh>\r\n            )}\r\n            \r\n            <Text\r\n              position={[0, 1.5, 0]}\r\n              color={MIREA_COLORS.textSecondary}\r\n              fontSize={0.25}\r\n              anchorX=\"center\"\r\n            >\r\n              {moldTemp.toFixed(0)}°C\r\n            </Text>\r\n          </group>\r\n        );\r\n      })}\r\n      \r\n      {/* Дефекты на формах */}\r\n      <MoldDefects defects={defects} positions={moldPositions} />\r\n      \r\n      {/* Speed indicator */}\r\n      <Text\r\n        position={[0, -1, 0]}\r\n        color={MIREA_COLORS.accent}\r\n        fontSize={0.35}\r\n        fontWeight={700}\r\n        anchorX=\"center\"\r\n      >\r\n        {speed.toFixed(0)} м/мин\r\n      </Text>\r\n    </group>\r\n  );\r\n};\r\n\r\n// Компонент: Освещение и фон\r\nconst SceneLighting = () => {\r\n  return (\r\n    <>\r\n      <ambientLight intensity={0.2} />\r\n      <pointLight \r\n        position={[10, 10, 10]} \r\n        intensity={1.5} \r\n        castShadow \r\n        shadow-mapSize-width={2048}\r\n        shadow-mapSize-height={2048}\r\n      />\r\n      <pointLight \r\n        position={[-10, 5, -10]} \r\n        intensity={0.8} \r\n        color={MIREA_COLORS.primary} \r\n      />\r\n      <spotLight\r\n        position={[0, 15, 0]}\r\n        angle={0.4}\r\n        penumbra={1}\r\n        intensity={2}\r\n        castShadow\r\n        color={MIREA_COLORS.accent}\r\n      />\r\n      \r\n      {/* Grid floor */}\r\n      <mesh \r\n        rotation={[-Math.PI / 2, 0, 0]} \r\n        position={[0, -0.5, 0]} \r\n        receiveShadow\r\n      >\r\n        <planeGeometry args={[40, 40]} />\r\n        <meshStandardMaterial \r\n          color={MIREA_COLORS.background}\r\n          metalness={0.3}\r\n          roughness={0.7}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Grid lines */}\r\n      <gridHelper \r\n        args={[40, 40, MIREA_COLORS.primary, MIREA_COLORS.surfaceLight]} \r\n        position={[0, -0.49, 0]}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\n// Компонент: 3D сцена\r\nconst DigitalTwinScene = ({ \r\n  furnaceTemp, \r\n  moldTemp, \r\n  beltSpeed, \r\n  defects,\r\n  thermalField,\r\n  showThermalField,\r\n  showDefects\r\n}: DigitalTwinSceneProps) => {\r\n  return (\r\n    <>\r\n      <SceneLighting />\r\n      \r\n      <EnhancedFurnace \r\n        temperature={furnaceTemp} \r\n        thermalField={thermalField}\r\n        showField={showThermalField}\r\n        defects={defects}\r\n      />\r\n      \r\n      <FormingLine \r\n        speed={beltSpeed} \r\n        moldTemp={moldTemp}\r\n        glass={true}\r\n        defects={defects}\r\n      />\r\n      \r\n      {/* Factory building outline */}\r\n      <mesh position={[0, 4, -5]} receiveShadow>\r\n        <boxGeometry args={[25, 8, 1]} />\r\n        <meshStandardMaterial \r\n          color={MIREA_COLORS.surfaceLight}\r\n          metalness={0.5}\r\n          roughness={0.5}\r\n          transparent\r\n          opacity={0.3}\r\n        />\r\n      </mesh>\r\n      \r\n      {/* Title */}\r\n      <Text\r\n        position={[0, 7, 0]}\r\n        color={MIREA_COLORS.primary}\r\n        fontSize={0.8}\r\n        fontWeight={900}\r\n        anchorX=\"center\"\r\n        anchorY=\"middle\"\r\n      >\r\n        РТУ МИРЭА • Digital Twin\r\n      </Text>\r\n      \r\n      <OrbitControls \r\n        enablePan={true}\r\n        enableZoom={true}\r\n        enableRotate={true}\r\n        maxPolarAngle={Math.PI / 2}\r\n        minDistance={5}\r\n        maxDistance={30}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\n// Главный компонент\r\nconst EnhancedDigitalTwin3D = () => {\r\n  const wsData = useWebSocket('ws://localhost:8000/ws/realtime');\r\n  \r\n  const [realState, setRealState] = useState({\r\n    furnaceTemp: 1520,\r\n    moldTemp: 320,\r\n    beltSpeed: 150,\r\n    defects: { crack: 0.1, bubble: 0.05, chip: 0.03, cloudiness: 0.02, deformation: 0.01, stress: 0.015 }\r\n  });\r\n  \r\n  const [whatIfState, setWhatIfState] = useState({\r\n    furnaceTemp: 1520,\r\n    moldTemp: 320,\r\n    beltSpeed: 150\r\n  });\r\n  \r\n  const [whatIfDefects, setWhatIfDefects] = useState<{ [key: string]: number }>({});\r\n  const [shadowMode, setShadowMode] = useState(false);\r\n  const [whatIfMode, setWhatIfMode] = useState(false);\r\n  const [isSimulating, setIsSimulating] = useState(false);\r\n  const [showThermalField, setShowThermalField] = useState(true);\r\n  const [showDefects, setShowDefects] = useState(true);\r\n  const [showPhysics, setShowPhysics] = useState(false);\r\n  const [thermalField, setThermalField] = useState<number[][] | null>(null);\r\n  \r\n  useEffect(() => {\r\n    if (wsData.parameters) {\r\n      setRealState(prev => ({\r\n        ...prev,\r\n        furnaceTemp: wsData.parameters?.furnace?.temperature || prev.furnaceTemp,\r\n        moldTemp: wsData.parameters?.forming?.mold_temp || prev.moldTemp,\r\n        beltSpeed: wsData.parameters?.forming?.speed || prev.beltSpeed,\r\n        defects: wsData.parameters?.defects || prev.defects\r\n      }));\r\n    }\r\n  }, [wsData.parameters]);\r\n  \r\n  useEffect(() => {\r\n    // Generate synthetic thermal field\r\n    const field = Array.from({ length: 10 }, (_, i) =>\r\n      Array.from({ length: 10 }, (_, j) => {\r\n        const centerDist = Math.sqrt(\r\n          Math.pow(i - 5, 2) + Math.pow(j - 5, 2)\r\n        );\r\n        return 1000 + (realState.furnaceTemp - 1000) * Math.exp(-centerDist / 5);\r\n      })\r\n    );\r\n    setThermalField(field);\r\n  }, [realState.furnaceTemp]);\r\n  \r\n  const simulateWhatIf = async () => {\r\n    setIsSimulating(true);\r\n    \r\n    try {\r\n      const response = await fetch('http://localhost:8000/api/digital-twin/what-if', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          parameter_changes: {\r\n            furnace_temperature: whatIfState.furnaceTemp,\r\n            belt_speed: whatIfState.beltSpeed,\r\n            mold_temperature: whatIfState.moldTemp\r\n          }\r\n        })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.impact_analysis) {\r\n        const impact = data.impact_analysis;\r\n        const newDefects: { [key: string]: number } = {};\r\n        Object.keys(realState.defects).forEach(key => {\r\n          newDefects[key] = Math.max(0, Math.min(1, \r\n            (realState.defects as any)[key] * (1 + (impact.defect_rate_change_percent || 0) / 100)\r\n          ));\r\n        });\r\n        setWhatIfDefects(newDefects);\r\n      }\r\n    } catch (err) {\r\n      console.error('What-If simulation error:', err);\r\n      // Fallback to simple calculation\r\n      const tempDev = Math.abs(whatIfState.furnaceTemp - 1520) / 30;\r\n      const speedDev = Math.abs(whatIfState.beltSpeed - 150) / 10;\r\n      \r\n      setWhatIfDefects({\r\n        crack: Math.min(tempDev * 0.3, 0.5),\r\n        bubble: Math.min(tempDev * 0.2, 0.4),\r\n        chip: Math.min(speedDev * 0.25, 0.35),\r\n        cloudiness: Math.min(tempDev * 0.15, 0.3),\r\n        deformation: Math.min(speedDev * 0.2, 0.3),\r\n        stress: Math.min(tempDev * 0.25, 0.4)\r\n      });\r\n    }\r\n    \r\n    setTimeout(() => setIsSimulating(false), 800);\r\n  };\r\n  \r\n  const resetWhatIf = () => {\r\n    setWhatIfState({\r\n      furnaceTemp: realState.furnaceTemp,\r\n      moldTemp: realState.moldTemp,\r\n      beltSpeed: realState.beltSpeed\r\n    });\r\n    setWhatIfDefects({});\r\n  };\r\n  \r\n  const handleSliderChange = (key: 'furnaceTemp' | 'moldTemp' | 'beltSpeed', value: number | number[]) => {\r\n    const numValue = Array.isArray(value) ? value[0] : value;\r\n    setWhatIfState(prev => ({ ...prev, [key]: numValue }));\r\n  };\r\n  \r\n  const displayState = whatIfMode ? \r\n    { ...whatIfState, defects: Object.keys(whatIfDefects).length > 0 ? whatIfDefects : realState.defects } : \r\n    realState;\r\n\r\n  return (\r\n    <Box sx={{ \r\n      width: '100%', \r\n      minHeight: '100vh',\r\n      background: `linear-gradient(135deg, ${MIREA_COLORS.background} 0%, ${MIREA_COLORS.backgroundLight} 100%)`,\r\n      p: 2\r\n    }}>\r\n      {/* Header */}\r\n      <Card sx={{ \r\n        mb: 2, \r\n        background: `linear-gradient(135deg, ${MIREA_COLORS.surface}CC 0%, ${MIREA_COLORS.surfaceLight}CC 100%)`,\r\n        backdropFilter: 'blur(20px)',\r\n        border: `1px solid ${MIREA_COLORS.primary}40`,\r\n        boxShadow: `0 8px 32px ${MIREA_COLORS.primary}20`\r\n      }}>\r\n        <CardContent>\r\n          <Grid container spacing={2} alignItems=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <Typography variant=\"h5\" sx={{ \r\n                color: MIREA_COLORS.text,\r\n                fontWeight: 900,\r\n                background: `linear-gradient(90deg, ${MIREA_COLORS.primary}, ${MIREA_COLORS.accent})`,\r\n                WebkitBackgroundClip: 'text',\r\n                WebkitTextFillColor: 'transparent',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 1\r\n              }}>\r\n                🏭 Цифровой Двойник • РТУ МИРЭА\r\n              </Typography>\r\n              <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.textSecondary, mt: 0.5 }}>\r\n                Интеллектуальная система мониторинга производства стекла\r\n              </Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} md={6}>\r\n              <Stack direction=\"row\" spacing={1} justifyContent=\"flex-end\" flexWrap=\"wrap\">\r\n                <Chip\r\n                  icon={wsData.isConnected ? <CheckCircle /> : <Warning />}\r\n                  label={wsData.isConnected ? 'Подключено' : 'Отключено'}\r\n                  color={wsData.isConnected ? 'success' : 'error'}\r\n                  size=\"small\"\r\n                  sx={{ \r\n                    fontWeight: 700,\r\n                    background: wsData.isConnected ? MIREA_COLORS.success : MIREA_COLORS.error,\r\n                    color: MIREA_COLORS.text\r\n                  }}\r\n                />\r\n                \r\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch \r\n                        checked={shadowMode} \r\n                        onChange={(e) => {\r\n                          setShadowMode(e.target.checked);\r\n                          if (e.target.checked) setWhatIfMode(false);\r\n                        }}\r\n                        sx={{\r\n                          '& .MuiSwitch-switchBase.Mui-checked': {\r\n                            color: MIREA_COLORS.primary\r\n                          }\r\n                        }}\r\n                      />\r\n                    }\r\n                    label=\"Shadow Mode\"\r\n                    sx={{ mr: 1 }}\r\n                  />\r\n                  \r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch \r\n                        checked={whatIfMode} \r\n                        onChange={(e) => {\r\n                          setWhatIfMode(e.target.checked);\r\n                          if (e.target.checked) setShadowMode(false);\r\n                        }}\r\n                        sx={{\r\n                          '& .MuiSwitch-switchBase.Mui-checked': {\r\n                            color: MIREA_COLORS.secondary\r\n                          }\r\n                        }}\r\n                      />\r\n                    }\r\n                    label=\"What-If\"\r\n                  />\r\n                </Box>\r\n              </Stack>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n      \r\n      <Grid container spacing={2}>\r\n        {/* 3D Visualization */}\r\n        <Grid item xs={12} md={whatIfMode ? 8 : 12}>\r\n          <Paper\r\n            elevation={8}\r\n            sx={{\r\n              height: '700px',\r\n              position: 'relative',\r\n              overflow: 'hidden',\r\n              background: MIREA_COLORS.background,\r\n              border: `2px solid ${whatIfMode ? MIREA_COLORS.secondary : MIREA_COLORS.primary}60`,\r\n              borderRadius: 2,\r\n              boxShadow: `0 8px 32px ${MIREA_COLORS.primary}30`\r\n            }}\r\n          >\r\n            <Canvas\r\n              shadows\r\n              camera={{ position: [12, 8, 12], fov: 60 }}\r\n            >\r\n              <DigitalTwinScene \r\n                furnaceTemp={displayState.furnaceTemp} \r\n                moldTemp={displayState.moldTemp} \r\n                beltSpeed={displayState.beltSpeed} \r\n                defects={displayState.defects}\r\n                thermalField={thermalField}\r\n                showThermalField={showThermalField}\r\n                showDefects={showDefects}\r\n              />\r\n            </Canvas>\r\n            \r\n            {/* Overlay Controls */}\r\n            <Stack\r\n              spacing={1}\r\n              sx={{\r\n                position: 'absolute',\r\n                top: 16,\r\n                right: 16,\r\n                background: `${MIREA_COLORS.surface}CC`,\r\n                backdropFilter: 'blur(10px)',\r\n                p: 1.5,\r\n                borderRadius: 2,\r\n                border: `1px solid ${MIREA_COLORS.primary}40`,\r\n                display: 'flex',\r\n                flexDirection: 'column'\r\n              }}\r\n            >\r\n              <Tooltip title=\"Тепловое поле\">\r\n                <IconButton \r\n                  size=\"small\" \r\n                  onClick={() => setShowThermalField(!showThermalField)}\r\n                  sx={{ \r\n                    color: showThermalField ? MIREA_COLORS.accent : MIREA_COLORS.textSecondary,\r\n                    '&:hover': { background: `${MIREA_COLORS.primary}20` }\r\n                  }}\r\n                >\r\n                  <Thermostat />\r\n                </IconButton>\r\n              </Tooltip>\r\n              \r\n              <Tooltip title=\"Дефекты\">\r\n                <IconButton \r\n                  size=\"small\" \r\n                  onClick={() => setShowDefects(!showDefects)}\r\n                  sx={{ \r\n                    color: showDefects ? MIREA_COLORS.error : MIREA_COLORS.textSecondary,\r\n                    '&:hover': { background: `${MIREA_COLORS.primary}20` }\r\n                  }}\r\n                >\r\n                  {showDefects ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </Tooltip>\r\n              \r\n              <Tooltip title=\"Физика\">\r\n                <IconButton \r\n                  size=\"small\" \r\n                  onClick={() => setShowPhysics(!showPhysics)}\r\n                  sx={{ \r\n                    color: showPhysics ? MIREA_COLORS.primary : MIREA_COLORS.textSecondary,\r\n                    '&:hover': { background: `${MIREA_COLORS.primary}20` }\r\n                  }}\r\n                >\r\n                  <Science />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Stack>\r\n            \r\n            {/* Metrics Overlay */}\r\n            <Box\r\n              sx={{\r\n                position: 'absolute',\r\n                bottom: 16,\r\n                left: 16,\r\n                background: `${MIREA_COLORS.surface}E6`,\r\n                backdropFilter: 'blur(15px)',\r\n                p: 2,\r\n                borderRadius: 2,\r\n                border: `1px solid ${MIREA_COLORS.primary}60`,\r\n                minWidth: 280\r\n              }}\r\n            >\r\n              <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary, fontWeight: 700, display: 'block', mb: 1 }}>\r\n                📊 Параметры производства\r\n              </Typography>\r\n              \r\n              <Stack spacing={1}>\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.text, display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                    <LocalFireDepartment fontSize=\"small\" /> Печь:\r\n                  </Typography>\r\n                  <Chip \r\n                    label={`${displayState.furnaceTemp}°C`}\r\n                    size=\"small\"\r\n                    sx={{ \r\n                      background: `linear-gradient(90deg, ${MIREA_COLORS.secondary}, ${MIREA_COLORS.error})`,\r\n                      color: MIREA_COLORS.text,\r\n                      fontWeight: 700\r\n                    }}\r\n                  />\r\n                </Box>\r\n                \r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.text, display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                    <Thermostat fontSize=\"small\" /> Форма:\r\n                  </Typography>\r\n                  <Chip \r\n                    label={`${displayState.moldTemp}°C`}\r\n                    size=\"small\"\r\n                    sx={{ \r\n                      background: MIREA_COLORS.warning,\r\n                      color: MIREA_COLORS.background,\r\n                      fontWeight: 700\r\n                    }}\r\n                  />\r\n                </Box>\r\n                \r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.text, display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                    <Speed fontSize=\"small\" /> Скорость:\r\n                  </Typography>\r\n                  <Chip \r\n                    label={`${displayState.beltSpeed} м/мин`}\r\n                    size=\"small\"\r\n                    sx={{ \r\n                      background: MIREA_COLORS.primary,\r\n                      color: MIREA_COLORS.text,\r\n                      fontWeight: 700\r\n                    }}\r\n                  />\r\n                </Box>\r\n              </Stack>\r\n              \r\n              <Divider sx={{ my: 1.5, borderColor: `${MIREA_COLORS.primary}40` }} />\r\n              \r\n              <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary, fontWeight: 700, display: 'block', mb: 1 }}>\r\n                ⚠️ Дефекты:\r\n              </Typography>\r\n              \r\n              <Stack spacing={0.5}>\r\n                {Object.entries(displayState.defects).map(([type, prob]) => (\r\n                  <Box key={type} sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary, minWidth: 90, textTransform: 'capitalize' }}>\r\n                      {type}:\r\n                    </Typography>\r\n                    <LinearProgress \r\n                      variant=\"determinate\" \r\n                      value={prob * 100}\r\n                      sx={{ \r\n                        flex: 1,\r\n                        height: 6,\r\n                        borderRadius: 3,\r\n                        background: `${MIREA_COLORS.glass}40`,\r\n                        '& .MuiLinearProgress-bar': {\r\n                          background: prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success,\r\n                          borderRadius: 3\r\n                        }\r\n                      }}\r\n                    />\r\n                    <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.text, fontWeight: 700, minWidth: 40, textAlign: 'right' }}>\r\n                      {(prob * 100).toFixed(1)}%\r\n                    </Typography>\r\n                  </Box>\r\n                ))}\r\n              </Stack>\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n        \r\n        {/* What-If Control Panel */}\r\n        {whatIfMode && (\r\n          <Grid item xs={12} md={4}>\r\n            <Paper\r\n              elevation={8}\r\n              sx={{\r\n                height: '700px',\r\n                overflow: 'auto',\r\n                background: `linear-gradient(180deg, ${MIREA_COLORS.surface}F2 0%, ${MIREA_COLORS.surfaceLight}F2 100%)`,\r\n                backdropFilter: 'blur(20px)',\r\n                p: 3,\r\n                border: `2px solid ${MIREA_COLORS.secondary}80`,\r\n                borderRadius: 2,\r\n                boxShadow: `0 8px 32px ${MIREA_COLORS.secondary}30`\r\n              }}\r\n            >\r\n              <Typography variant=\"h6\" sx={{ \r\n                color: MIREA_COLORS.text, \r\n                mb: 2, \r\n                fontWeight: 900,\r\n                background: `linear-gradient(90deg, ${MIREA_COLORS.secondary}, ${MIREA_COLORS.warning})`,\r\n                WebkitBackgroundClip: 'text',\r\n                WebkitTextFillColor: 'transparent',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 1\r\n              }}>\r\n                🧪 What-If Анализ\r\n              </Typography>\r\n              \r\n              <Divider sx={{ mb: 3, borderColor: `${MIREA_COLORS.secondary}40` }} />\r\n              \r\n              {/* Temperature Control */}\r\n              <Box sx={{ mb: 4 }}>\r\n                <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.text, mb: 1, fontWeight: 700, display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                  <LocalFireDepartment fontSize=\"small\" /> Температура печи: {whatIfState.furnaceTemp}°C\r\n                </Typography>\r\n                <Slider\r\n                  value={whatIfState.furnaceTemp}\r\n                  onChange={(_, value) => handleSliderChange('furnaceTemp', value)}\r\n                  min={1400}\r\n                  max={1700}\r\n                  step={5}\r\n                  marks={[\r\n                    { value: 1400, label: '1400' },\r\n                    { value: 1520, label: '1520' },\r\n                    { value: 1700, label: '1700' }\r\n                  ]}\r\n                  sx={{ \r\n                    color: MIREA_COLORS.secondary,\r\n                    '& .MuiSlider-markLabel': {\r\n                      color: MIREA_COLORS.textSecondary,\r\n                      fontSize: '0.7rem'\r\n                    }\r\n                  }}\r\n                />\r\n              </Box>\r\n              \r\n              {/* Mold Temperature */}\r\n              <Box sx={{ mb: 4 }}>\r\n                <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.text, mb: 1, fontWeight: 700, display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                  <Thermostat fontSize=\"small\" /> Температура формы: {whatIfState.moldTemp}°C\r\n                </Typography>\r\n                <Slider\r\n                  value={whatIfState.moldTemp}\r\n                  onChange={(_, value) => handleSliderChange('moldTemp', value)}\r\n                  min={280}\r\n                  max={380}\r\n                  step={5}\r\n                  marks={[\r\n                    { value: 280, label: '280' },\r\n                    { value: 320, label: '320' },\r\n                    { value: 380, label: '380' }\r\n                  ]}\r\n                  sx={{ \r\n                    color: MIREA_COLORS.warning,\r\n                    '& .MuiSlider-markLabel': {\r\n                      color: MIREA_COLORS.textSecondary,\r\n                      fontSize: '0.7rem'\r\n                    }\r\n                  }}\r\n                />\r\n              </Box>\r\n              \r\n              {/* Belt Speed */}\r\n              <Box sx={{ mb: 4 }}>\r\n                <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.text, mb: 1, fontWeight: 700, display: 'flex', alignItems: 'center', gap: 0.5 }}>\r\n                  <Speed fontSize=\"small\" /> Скорость ленты: {whatIfState.beltSpeed} м/мин\r\n                </Typography>\r\n                <Slider\r\n                  value={whatIfState.beltSpeed}\r\n                  onChange={(_, value) => handleSliderChange('beltSpeed', value)}\r\n                  min={100}\r\n                  max={200}\r\n                  step={5}\r\n                  marks={[\r\n                    { value: 100, label: '100' },\r\n                    { value: 150, label: '150' },\r\n                    { value: 200, label: '200' }\r\n                  ]}\r\n                  sx={{ \r\n                    color: MIREA_COLORS.primary,\r\n                    '& .MuiSlider-markLabel': {\r\n                      color: MIREA_COLORS.textSecondary,\r\n                      fontSize: '0.7rem'\r\n                    }\r\n                  }}\r\n                />\r\n              </Box>\r\n              \r\n              {/* Action Buttons */}\r\n              <Stack direction=\"row\" spacing={1} sx={{ mb: 3 }}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  fullWidth\r\n                  onClick={simulateWhatIf}\r\n                  disabled={isSimulating}\r\n                  startIcon={isSimulating ? null : <TrendingUp />}\r\n                  sx={{\r\n                    background: `linear-gradient(45deg, ${MIREA_COLORS.secondary} 30%, ${MIREA_COLORS.warning} 90%)`,\r\n                    fontWeight: 700,\r\n                    boxShadow: `0 4px 16px ${MIREA_COLORS.secondary}40`,\r\n                    '&:hover': {\r\n                      background: `linear-gradient(45deg, ${MIREA_COLORS.secondaryDark} 30%, ${MIREA_COLORS.warning} 90%)`,\r\n                      boxShadow: `0 6px 20px ${MIREA_COLORS.secondary}60`\r\n                    },\r\n                    '&.Mui-disabled': {\r\n                      background: MIREA_COLORS.surfaceLight,\r\n                      color: MIREA_COLORS.textSecondary\r\n                    }\r\n                  }}\r\n                >\r\n                  {isSimulating ? 'Анализ...' : 'Симулировать'}\r\n                </Button>\r\n                \r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={resetWhatIf}\r\n                  startIcon={<Refresh />}\r\n                  sx={{ \r\n                    borderColor: MIREA_COLORS.text, \r\n                    color: MIREA_COLORS.text,\r\n                    fontWeight: 700,\r\n                    '&:hover': {\r\n                      borderColor: MIREA_COLORS.primary,\r\n                      background: `${MIREA_COLORS.primary}20`\r\n                    }\r\n                  }}\r\n                >\r\n                  Сброс\r\n                </Button>\r\n              </Stack>\r\n              \r\n              <Divider sx={{ my: 2, borderColor: `${MIREA_COLORS.secondary}40` }} />\r\n              \r\n              {/* Results */}\r\n              {Object.keys(whatIfDefects).length > 0 && (\r\n                <Box>\r\n                  <Typography variant=\"body2\" sx={{ color: MIREA_COLORS.text, mb: 2, fontWeight: 700 }}>\r\n                    📊 Прогноз дефектов:\r\n                  </Typography>\r\n                  \r\n                  <Stack spacing={1.5}>\r\n                    {Object.entries(whatIfDefects).map(([type, prob]) => (\r\n                      <Card \r\n                        key={type}\r\n                        sx={{ \r\n                          bgcolor: `${prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success}15`, \r\n                          border: '1px solid', \r\n                          borderColor: prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success,\r\n                          boxShadow: `0 4px 12px ${prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success}20`\r\n                        }}\r\n                      >\r\n                        <CardContent sx={{ py: 1.5 }}>\r\n                          <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary, textTransform: 'capitalize' }}>\r\n                            {type}\r\n                          </Typography>\r\n                          <Typography variant=\"h6\" sx={{ \r\n                            color: prob > 0.3 ? MIREA_COLORS.error : prob > 0.15 ? MIREA_COLORS.warning : MIREA_COLORS.success, \r\n                            fontWeight: 900 \r\n                          }}>\r\n                            {(prob * 100).toFixed(1)}%\r\n                          </Typography>\r\n                        </CardContent>\r\n                      </Card>\r\n                    ))}\r\n                  </Stack>\r\n                  \r\n                  {/* Recommendation */}\r\n                  <Alert \r\n                    severity={Object.values(whatIfDefects).some(v => v > 0.3) ? \"error\" : \"success\"}\r\n                    sx={{ \r\n                      mt: 2,\r\n                      background: `${Object.values(whatIfDefects).some(v => v > 0.3) ? MIREA_COLORS.error : MIREA_COLORS.success}15`,\r\n                      border: '1px solid',\r\n                      borderColor: Object.values(whatIfDefects).some(v => v > 0.3) ? MIREA_COLORS.error : MIREA_COLORS.success,\r\n                      '& .MuiAlert-icon': {\r\n                        color: Object.values(whatIfDefects).some(v => v > 0.3) ? MIREA_COLORS.error : MIREA_COLORS.success\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Typography variant=\"caption\" sx={{ fontWeight: 700 }}>\r\n                      {Object.values(whatIfDefects).some(v => v > 0.3)\r\n                        ? '⚠️ Параметры выходят за оптимальные значения. Высокий риск дефектов!'\r\n                        : '✅ Параметры в норме. Качество продукции стабильно.'}\r\n                    </Typography>\r\n                  </Alert>\r\n                </Box>\r\n              )}\r\n            </Paper>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n      \r\n      {/* Physics Panel */}\r\n      <Collapse in={showPhysics}>\r\n        <Card sx={{ \r\n          mt: 2,\r\n          background: `${MIREA_COLORS.surface}F2`,\r\n          backdropFilter: 'blur(20px)',\r\n          border: `1px solid ${MIREA_COLORS.primary}40`,\r\n          boxShadow: `0 8px 32px ${MIREA_COLORS.primary}20`\r\n        }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" sx={{ \r\n              color: MIREA_COLORS.text, \r\n              mb: 2, \r\n              fontWeight: 900,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: 1\r\n            }}>\r\n              <Science sx={{ color: MIREA_COLORS.primary }} />\r\n              Физические параметры\r\n            </Typography>\r\n            \r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, background: `${MIREA_COLORS.surfaceLight}CC`, border: `1px solid ${MIREA_COLORS.accent}40`, height: '100%' }}>\r\n                  <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary }}>\r\n                    Вязкость\r\n                  </Typography>\r\n                  <Typography variant=\"h5\" sx={{ color: MIREA_COLORS.accent, fontWeight: 900 }}>\r\n                    {(1000 + Math.random() * 500).toFixed(0)} Pa·s\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, background: `${MIREA_COLORS.surfaceLight}CC`, border: `1px solid ${MIREA_COLORS.warning}40`, height: '100%' }}>\r\n                  <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary }}>\r\n                    Теплопроводность\r\n                  </Typography>\r\n                  <Typography variant=\"h5\" sx={{ color: MIREA_COLORS.warning, fontWeight: 900 }}>\r\n                    1.4 W/(m·K)\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, background: `${MIREA_COLORS.surfaceLight}CC`, border: `1px solid ${MIREA_COLORS.error}40`, height: '100%' }}>\r\n                  <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary }}>\r\n                    Тепловое расширение\r\n                  </Typography>\r\n                  <Typography variant=\"h5\" sx={{ color: MIREA_COLORS.error, fontWeight: 900 }}>\r\n                    9×10⁻⁶ K⁻¹\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <Paper sx={{ p: 2, background: `${MIREA_COLORS.surfaceLight}CC`, border: `1px solid ${MIREA_COLORS.success}40`, height: '100%' }}>\r\n                  <Typography variant=\"caption\" sx={{ color: MIREA_COLORS.textSecondary }}>\r\n                    Плотность\r\n                  </Typography>\r\n                  <Typography variant=\"h5\" sx={{ color: MIREA_COLORS.success, fontWeight: 900 }}>\r\n                    2500 kg/m³\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          </CardContent>\r\n        </Card>\r\n      </Collapse>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EnhancedDigitalTwin3D;"],"mappings":";;;;;;;;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAqB,OAAO;AAChF,SAASC,MAAM,EAAEC,QAAQ,QAAQ,oBAAoB;AACrD,SAASC,aAAa,EAAEC,IAAI,QAAQ,mBAAmB;AACvD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SACEC,GAAG,EAAEC,IAAI,EAAEC,KAAK,EAAEC,UAAU,EAAEC,MAAM,EAAEC,MAAM,EAC5CC,IAAI,EAAEC,IAAI,EAAEC,WAAW,EAAEC,MAAM,EAAEC,gBAAgB,EAAEC,OAAO,EAC1DC,KAAK,EAAEC,cAAc,EAAEC,OAAO,EAAEC,UAAU,EAAEC,KAAK,EAAEC,QAAQ,QACtD,eAAe;AACtB,SACoBC,OAAO,EAAEC,UAAU,EAAEC,OAAO,EAC9CC,mBAAmB,EAAEC,UAAU,EAAEC,KAAK,EAAEC,OAAO,EAAEC,WAAW,EAC5DC,UAAU,EAAEC,aAAa,QACpB,qBAAqB;;AAE5B;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AA8DA;AACA,MAAMC,YAAyB,GAAG;EAChCC,OAAO,EAAE,SAAS;EAClBC,WAAW,EAAE,SAAS;EACtBC,YAAY,EAAE,SAAS;EACvBC,SAAS,EAAE,SAAS;EACpBC,aAAa,EAAE,SAAS;EACxBC,MAAM,EAAE,SAAS;EACjBC,OAAO,EAAE,SAAS;EAClBC,OAAO,EAAE,SAAS;EAClBC,KAAK,EAAE,SAAS;EAChBC,UAAU,EAAE,SAAS;EACrBC,eAAe,EAAE,SAAS;EAC1BC,OAAO,EAAE,SAAS;EAClBC,YAAY,EAAE,SAAS;EACvBC,IAAI,EAAE,SAAS;EACfC,aAAa,EAAE,SAAS;EACxBC,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMC,YAAY,GAAIC,GAAW,IAAoB;EAAAC,EAAA;EACnD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG7D,QAAQ,CAAgB;IAClD8D,UAAU,EAAE,IAAI;IAChBC,YAAY,EAAE,EAAE;IAChBC,WAAW,EAAE;EACf,CAAC,CAAC;EAEF/D,SAAS,CAAC,MAAM;IACd,MAAMgE,EAAE,GAAG,IAAIC,SAAS,CAACR,GAAG,CAAC;IAE7BO,EAAE,CAACE,MAAM,GAAG,MAAM;MAChBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCR,SAAS,CAACS,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEN,WAAW,EAAE;MAAK,CAAC,CAAC,CAAC;IACrD,CAAC;IAEDC,EAAE,CAACM,SAAS,GAAIC,KAAK,IAAK;MACxB,IAAI;QACF,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACI,IAAI,CAAC;QAEtC,IAAIH,OAAO,CAACI,IAAI,KAAK,kBAAkB,EAAE;UACvChB,SAAS,CAACS,IAAI,KAAK;YACjB,GAAGA,IAAI;YACPR,UAAU,EAAEW,OAAO,CAACG;UACtB,CAAC,CAAC,CAAC;QACL,CAAC,MAAM,IAAIH,OAAO,CAACI,IAAI,KAAK,cAAc,EAAE;UAC1ChB,SAAS,CAACS,IAAI,KAAK;YACjB,GAAGA,IAAI;YACPP,YAAY,EAAE,CAAC,GAAGO,IAAI,CAACP,YAAY,CAACe,KAAK,CAAC,CAAC,EAAE,CAAC,EAAEL,OAAO,CAACG,IAAI;UAC9D,CAAC,CAAC,CAAC;QACL;MACF,CAAC,CAAC,OAAOG,GAAG,EAAE;QACZX,OAAO,CAACnB,KAAK,CAAC,wBAAwB,EAAE8B,GAAG,CAAC;MAC9C;IACF,CAAC;IAEDd,EAAE,CAACe,OAAO,GAAG,MAAM;MACjBZ,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrCR,SAAS,CAACS,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEN,WAAW,EAAE;MAAM,CAAC,CAAC,CAAC;IACtD,CAAC;IAED,OAAO,MAAMC,EAAE,CAACgB,KAAK,CAAC,CAAC;EACzB,CAAC,EAAE,CAACvB,GAAG,CAAC,CAAC;EAET,OAAOE,MAAM;AACf,CAAC;;AAED;AAAAD,EAAA,CA9CMF,YAAY;AA+ClB,MAAMyB,cAAc,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAqF,CAAC,KAAK;EAAAC,GAAA;EAC5H,MAAMC,QAAQ,GAAGvF,MAAM,CAAc,IAAI,CAAC;EAE1C,MAAMwF,SAAS,GAAGrF,OAAO,CAAC,MAAM;IAC9B,MAAMsF,YAAY,GAAGC,MAAM,CAACC,MAAM,CAACP,OAAO,CAAC,CAACQ,MAAM,CAAC,CAACC,GAAW,EAAEC,GAAW,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC;IAC9F,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC,EAAE,EAAED,IAAI,CAACE,KAAK,CAACT,YAAY,GAAG,GAAG,CAAC,CAAC;IAE1D,MAAMU,YAAY,GAAG;MACnBC,KAAK,EAAE3D,YAAY,CAACS,KAAK;MACzBmD,MAAM,EAAE5D,YAAY,CAACQ,OAAO;MAC5BqD,IAAI,EAAE7D,YAAY,CAACI,SAAS;MAC5B0D,UAAU,EAAE,SAAS;MACrBC,WAAW,EAAE,SAAS;MACtBC,MAAM,EAAE;IACV,CAAC;IAED,OAAOC,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAEb;IAAM,CAAC,EAAE,CAACc,CAAC,EAAEC,CAAC,KAAK;MAC7C;MACA,MAAMC,IAAI,GAAGf,IAAI,CAACE,KAAK,CAACF,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;MAC1C,IAAIC,CAAC,GAAG,CAAC;QAAEC,CAAC,GAAG,CAAC;QAAEC,CAAC,GAAG,CAAC;MAEvB,QAAOJ,IAAI;QACT,KAAK,CAAC;UAAE;UACNE,CAAC,GAAG,CAACjB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BE,CAAC,GAAG,CAAClB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BG,CAAC,GAAG,GAAG;UACP;QACF,KAAK,CAAC;UAAE;UACNF,CAAC,GAAG,CAACjB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BE,CAAC,GAAG,CAAClB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BG,CAAC,GAAG,CAAC,GAAG;UACR;QACF,KAAK,CAAC;UAAE;UACNF,CAAC,GAAG,CAAC;UACLC,CAAC,GAAG,CAAClB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BG,CAAC,GAAG,CAACnB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7B;QACF,KAAK,CAAC;UAAE;UACNC,CAAC,GAAG,CAAC,CAAC;UACNC,CAAC,GAAG,CAAClB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BG,CAAC,GAAG,CAACnB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7B;QACF,KAAK,CAAC;UAAE;UACNC,CAAC,GAAG,CAACjB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BE,CAAC,GAAG,GAAG;UACPC,CAAC,GAAG,CAACnB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7B;QACF,KAAK,CAAC;UAAE;UACNC,CAAC,GAAG,CAACjB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7BE,CAAC,GAAG,CAAC,GAAG;UACRC,CAAC,GAAG,CAACnB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;UAC7B;MACJ;MAEA,MAAMI,WAAW,GAAG1B,MAAM,CAAC2B,IAAI,CAACjC,OAAO,CAAC;MACxC,MAAMkC,YAAY,GAAGF,WAAW,CAACpB,IAAI,CAACE,KAAK,CAACF,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAGI,WAAW,CAACR,MAAM,CAAC,CAAC;MAEhF,OAAO;QACLvB,QAAQ,EAAE,CAAC4B,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAA6B;QAC/CI,KAAK,EAAGpB,YAAY,CAASmB,YAAY,CAAC,IAAI,SAAS;QACvDE,IAAI,EAAE,IAAI,GAAGxB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,IAAI;QACjClC,IAAI,EAAEwC;MACR,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE,CAAClC,OAAO,CAAC,CAAC;EAEb/E,QAAQ,CAAEoH,KAAK,IAAK;IAClB,IAAIlC,QAAQ,CAACmC,OAAO,EAAE;MACpB;MACAnC,QAAQ,CAACmC,OAAO,CAACC,QAAQ,CAACC,OAAO,CAAC,CAACC,KAAK,EAAEf,CAAC,KAAK;QAC9C,IAAIe,KAAK,YAAYrH,KAAK,CAACsH,IAAI,EAAE;UAC/B,MAAMC,SAAS,GAAG,GAAG,GAAG,GAAG,GAAG/B,IAAI,CAACgC,GAAG,CAACP,KAAK,CAACQ,KAAK,CAACC,WAAW,GAAG,CAAC,GAAGpB,CAAC,CAAC;UACvEe,KAAK,CAACM,QAAQ,CAACC,iBAAiB,GAAGL,SAAS;QAC9C;MACF,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EAEF,oBACEzF,OAAA;IAAO+F,GAAG,EAAE9C,QAAS;IAACF,QAAQ,EAAEA,QAAS;IAAAsC,QAAA,EACtCnC,SAAS,CAAC8C,GAAG,CAAC,CAACC,QAAQ,EAAEzB,CAAC,kBACzBxE,OAAA;MAAc+C,QAAQ,EAAEkD,QAAQ,CAAClD,QAAS;MAAAsC,QAAA,gBACxCrF,OAAA;QAAgBkG,IAAI,EAAE,CAACD,QAAQ,CAACf,IAAI;MAAE;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzCtG,OAAA;QACEiF,KAAK,EAAEgB,QAAQ,CAAChB,KAAM;QACtBsB,QAAQ,EAAEN,QAAQ,CAAChB,KAAM;QACzBa,iBAAiB,EAAE,GAAI;QACvBU,WAAW;QACXC,OAAO,EAAE;MAAI;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC;IAAA,GARO9B,CAAC;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OASN,CACP;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEZ,CAAC;;AAED;AAAAtD,GAAA,CAhGMH,cAAc;EAAA,QAkElB9E,QAAQ;AAAA;AAAA2I,EAAA,GAlEJ7D,cAAc;AAiGpB,MAAM8D,WAAW,GAAGA,CAAC;EAAE7D,OAAO;EAAE8D;AAA8F,CAAC,KAAK;EAAAC,GAAA;EAClI,MAAM5D,QAAQ,GAAGvF,MAAM,CAAc,IAAI,CAAC;EAE1C,MAAMwF,SAAS,GAAGrF,OAAO,CAAC,MAAM;IAC9B,MAAMsF,YAAY,GAAGC,MAAM,CAACC,MAAM,CAACP,OAAO,CAAC,CAACQ,MAAM,CAAC,CAACC,GAAW,EAAEC,GAAW,KAAKD,GAAG,GAAGC,GAAG,EAAE,CAAC,CAAC;IAC9F,MAAMsD,gBAAgB,GAAGpD,IAAI,CAACC,GAAG,CAAC,EAAE,EAAED,IAAI,CAACE,KAAK,CAACT,YAAY,GAAG,EAAE,GAAGyD,SAAS,CAACtC,MAAM,CAAC,CAAC;IAEvF,MAAMT,YAAY,GAAG;MACnBC,KAAK,EAAE3D,YAAY,CAACS,KAAK;MACzBmD,MAAM,EAAE5D,YAAY,CAACQ,OAAO;MAC5BqD,IAAI,EAAE7D,YAAY,CAACI,SAAS;MAC5B0D,UAAU,EAAE,SAAS;MACrBC,WAAW,EAAE,SAAS;MACtBC,MAAM,EAAE;IACV,CAAC;IAED,MAAM4C,YAKJ,GAAG,EAAE;IAEPH,SAAS,CAACtB,OAAO,CAAC,CAAC0B,OAAO,EAAEC,SAAS,KAAK;MACxC,KAAK,IAAIzC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsC,gBAAgB,EAAEtC,CAAC,EAAE,EAAE;QACzC,MAAM0C,KAAK,GAAGxD,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAGhB,IAAI,CAACyD,EAAE,GAAG,CAAC;QACzC,MAAMC,MAAM,GAAG,CAAC1D,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG;QAC1C,MAAM2C,MAAM,GAAG,GAAG;QAElB,MAAM1C,CAAC,GAAGjB,IAAI,CAAC4D,GAAG,CAACJ,KAAK,CAAC,GAAGG,MAAM;QAClC,MAAMxC,CAAC,GAAGnB,IAAI,CAACgC,GAAG,CAACwB,KAAK,CAAC,GAAGG,MAAM;QAElC,MAAMvC,WAAW,GAAG1B,MAAM,CAAC2B,IAAI,CAACjC,OAAO,CAAC;QACxC,MAAMkC,YAAY,GAAGF,WAAW,CAACpB,IAAI,CAACE,KAAK,CAACF,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAGI,WAAW,CAACR,MAAM,CAAC,CAAC;QAEhFyC,YAAY,CAACQ,IAAI,CAAC;UAChBxE,QAAQ,EAAE,CACRiE,OAAO,CAAC,CAAC,CAAC,GAAGrC,CAAC,EACdqC,OAAO,CAAC,CAAC,CAAC,GAAGI,MAAM,GAAG,GAAG,EACzBJ,OAAO,CAAC,CAAC,CAAC,GAAGnC,CAAC,CACf;UACDI,KAAK,EAAGpB,YAAY,CAASmB,YAAY,CAAC,IAAI,SAAS;UACvDE,IAAI,EAAE,IAAI,GAAGxB,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,IAAI;UACjClC,IAAI,EAAEwC;QACR,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;IAEF,OAAO+B,YAAY;EACrB,CAAC,EAAE,CAACjE,OAAO,EAAE8D,SAAS,CAAC,CAAC;EAExB7I,QAAQ,CAAEoH,KAAK,IAAK;IAClB,IAAIlC,QAAQ,CAACmC,OAAO,EAAE;MACpB;MACAnC,QAAQ,CAACmC,OAAO,CAACoC,QAAQ,CAAC5C,CAAC,IAAI,KAAK;IACtC;EACF,CAAC,CAAC;EAEF,oBACE5E,OAAA;IAAO+F,GAAG,EAAE9C,QAAS;IAAAoC,QAAA,EAClBnC,SAAS,CAAC8C,GAAG,CAAC,CAACC,QAAQ,EAAEzB,CAAC,kBACzBxE,OAAA;MAAc+C,QAAQ,EAAEkD,QAAQ,CAAClD,QAAS;MAAAsC,QAAA,gBACxCrF,OAAA;QAAgBkG,IAAI,EAAE,CAACD,QAAQ,CAACf,IAAI;MAAE;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzCtG,OAAA;QACEiF,KAAK,EAAEgB,QAAQ,CAAChB,KAAM;QACtBsB,QAAQ,EAAEN,QAAQ,CAAChB,KAAM;QACzBa,iBAAiB,EAAE,GAAI;QACvBU,WAAW;QACXC,OAAO,EAAE;MAAI;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC;IAAA,GARO9B,CAAC;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OASN,CACP;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEZ,CAAC;;AAED;AAAAO,GAAA,CA5EMF,WAAW;EAAA,QAmDf5I,QAAQ;AAAA;AAAA0J,GAAA,GAnDJd,WAAW;AA6EjB,MAAMe,eAAe,GAAGA,CAAC;EAAEC,WAAW;EAAEC,YAAY;EAAEC,SAAS;EAAE/E;AAAsB,CAAC,KAAK;EAAAgF,GAAA;EAC3F,MAAMC,UAAU,GAAGrK,MAAM,CAAa,IAAI,CAAC;EAC3C,MAAMsK,OAAO,GAAGtK,MAAM,CAAa,IAAI,CAAC;EACxC,MAAM,CAACuK,aAAa,EAAEC,gBAAgB,CAAC,GAAGvK,QAAQ,CAAC,CAAC,CAAC;EAErDC,SAAS,CAAC,MAAM;IACd,MAAM6H,SAAS,GAAG/B,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACyE,GAAG,CAAC,CAAC,EAAE,CAACR,WAAW,GAAG,IAAI,IAAI,GAAG,CAAC,CAAC;IACtEO,gBAAgB,CAACzC,SAAS,CAAC;EAC7B,CAAC,EAAE,CAACkC,WAAW,CAAC,CAAC;EAEjB5J,QAAQ,CAAEoH,KAAK,IAAK;IAClB,IAAI4C,UAAU,CAAC3C,OAAO,IAAI6C,aAAa,GAAG,GAAG,EAAE;MAC7C,MAAMG,KAAK,GAAG1E,IAAI,CAACgC,GAAG,CAACP,KAAK,CAACQ,KAAK,CAACC,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI;MAC1DmC,UAAU,CAAC3C,OAAO,CAACiD,KAAK,CAACC,GAAG,CAAC,CAAC,GAAGF,KAAK,EAAE,CAAC,EAAE,CAAC,GAAGA,KAAK,CAAC;IACvD;EACF,CAAC,CAAC;EAEF,oBACEpI,OAAA;IAAO+C,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAE;IAAAsC,QAAA,gBAE5BrF,OAAA;MAAM+F,GAAG,EAAEgC,UAAW;MAAChF,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;MAACwF,UAAU;MAACC,aAAa;MAAAnD,QAAA,gBAClErF,OAAA;QAAakG,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChCtG,OAAA;QACEiF,KAAK,EAAE9E,YAAY,CAACI,SAAU;QAC9BgG,QAAQ,EAAEpG,YAAY,CAACI,SAAU;QACjCuF,iBAAiB,EAAEmC,aAAa,GAAG,GAAI;QACvCQ,SAAS,EAAE,GAAI;QACfC,SAAS,EAAE;MAAI;QAAAvC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGPtG,OAAA;MAAM+F,GAAG,EAAEiC,OAAQ;MAACjF,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAE;MAACwF,UAAU;MAAAlD,QAAA,gBACnDrF,OAAA;QAAakG,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrCtG,OAAA;QACEiF,KAAK,EAAE9E,YAAY,CAACS,KAAM;QAC1B2F,QAAQ,EAAEpG,YAAY,CAACS,KAAM;QAC7BkF,iBAAiB,EAAEmC,aAAa,GAAG,GAAI;QACvCQ,SAAS,EAAE,GAAI;QACfC,SAAS,EAAE;MAAI;QAAAvC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGPtG,OAAA;MAAM+C,QAAQ,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAE;MAAAsC,QAAA,gBAC7BrF,OAAA;QAAakG,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrCtG,OAAA;QACEiF,KAAK,EAAC,SAAS;QACfsB,QAAQ,EAAC,SAAS;QAClBT,iBAAiB,EAAEmC,aAAc;QACjCzB,WAAW;QACXC,OAAO,EAAE;MAAI;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGN,CAAC,GAAGlC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC4B,GAAG,CAAC,CAACzB,CAAC,EAAEC,CAAC,kBACtBxE,OAAA;MAAe+C,QAAQ,EAAE,CAAC,CAAC,GAAG,GAAGyB,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,CAAE;MAAAa,QAAA,gBACjDrF,OAAA;QAAMwH,QAAQ,EAAE,CAAC9D,IAAI,CAACyD,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;QAAA9B,QAAA,gBAClCrF,OAAA;UAAkBkG,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,GAAG;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7CtG,OAAA;UAAsBiF,KAAK,EAAC,SAAS;UAACwD,SAAS,EAAE,GAAI;UAACC,SAAS,EAAE;QAAI;UAAAvC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC,eAEPtG,OAAA;QAAM+C,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAE;QAACyE,QAAQ,EAAE,CAAC9D,IAAI,CAACyD,EAAE,EAAE,CAAC,EAAE,CAAC,CAAE;QAAA9B,QAAA,gBACrDrF,OAAA;UAAckG,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACrCtG,OAAA;UACEiF,KAAK,EAAC,SAAS;UACfsB,QAAQ,EAAC,SAAS;UAClBT,iBAAiB,EAAEmC,aAAa,GAAG,GAAI;UACvCzB,WAAW;UACXC,OAAO,EAAE;QAAI;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA,GAfG9B,CAAC;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAgBN,CACR,CAAC,eAGFtG,OAAA,CAAC/B,IAAI;MACH8E,QAAQ,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAE;MACtBkC,KAAK,EAAE9E,YAAY,CAACM,MAAO;MAC3BkI,QAAQ,EAAE,GAAI;MACdC,UAAU,EAAE,GAAI;MAChBC,OAAO,EAAC,QAAQ;MAChBC,OAAO,EAAC,QAAQ;MAAAzD,QAAA,GAEfsC,WAAW,CAACoB,OAAO,CAAC,CAAC,CAAC,EAAC,OAC1B;IAAA;MAAA5C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAGPtG,OAAA;MAAM+C,QAAQ,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAE;MAAAsC,QAAA,gBAC/BrF,OAAA;QAAgBkG,IAAI,EAAE,CAAC,IAAI;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChCtG,OAAA;QACEiF,KAAK,EAAE0C,WAAW,GAAG,IAAI,GAAGxH,YAAY,CAACS,KAAK,GAAGT,YAAY,CAACO,OAAQ;QACtE6F,QAAQ,EAAEoB,WAAW,GAAG,IAAI,GAAGxH,YAAY,CAACS,KAAK,GAAGT,YAAY,CAACO,OAAQ;QACzEoF,iBAAiB,EAAE;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGPtG,OAAA,CAAC6C,cAAc;MAACC,OAAO,EAAEA,OAAQ;MAACC,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;IAAE;MAAAoD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpD,CAAC;AAEZ,CAAC;;AAED;AAAAwB,GAAA,CAxGMJ,eAAe;EAAA,QAUnB3J,QAAQ;AAAA;AAAAiL,GAAA,GAVJtB,eAAe;AAyGrB,MAAMuB,yBAAyB,GAAGA,CAAC;EAAEC,KAAK;EAAEnG;AAA4B,CAAC,KAAK;EAAAoG,GAAA;EAC5E,MAAMC,OAAO,GAAG1L,MAAM,CAAc,IAAI,CAAC;EAEzCK,QAAQ,CAAC,MAAM;IACb,IAAIqL,OAAO,CAAChE,OAAO,EAAE;MACnBgE,OAAO,CAAChE,OAAO,CAACoC,QAAQ,CAAC5C,CAAC,IAAI,KAAK;IACrC;EACF,CAAC,CAAC;EAEF,oBACE5E,OAAA;IAAO+F,GAAG,EAAEqD,OAAQ;IAACrG,QAAQ,EAAEA,QAAS;IAAAsC,QAAA,EACrC6D,KAAK,CAAClD,GAAG,CAAC,CAACqD,GAAG,EAAE7E,CAAC,KAChB6E,GAAG,CAACrD,GAAG,CAAC,CAACsD,IAAI,EAAEC,CAAC,KAAK;MACnB,MAAMC,cAAc,GAAG,CAACF,IAAI,GAAG,IAAI,IAAI,IAAI;MAC3C,MAAMrE,KAAK,GAAG,IAAI/G,KAAK,CAACuL,KAAK,CAAC,CAAC,CAACC,MAAM,CACpC,CAAC,CAAC,GAAGF,cAAc,IAAI,GAAG,EAC1B,CAAC,EACD,GACF,CAAC;MAED,oBACExJ,OAAA;QAEE+C,QAAQ,EAAE,CACR,CAACyB,CAAC,GAAG0E,KAAK,CAAC5E,MAAM,GAAG,CAAC,IAAI,GAAG,EAC5B,CAACiF,CAAC,GAAGF,GAAG,CAAC/E,MAAM,GAAG,CAAC,IAAI,GAAG,EAC1B,CAAC,CACD;QAAAe,QAAA,gBAEFrF,OAAA;UAAgBkG,IAAI,EAAE,CAAC,IAAI;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAChCtG,OAAA;UACEiF,KAAK,EAAEA,KAAM;UACbsB,QAAQ,EAAEtB,KAAM;UAChBa,iBAAiB,EAAE0D,cAAc,GAAG,GAAI;UACxChD,WAAW;UACXC,OAAO,EAAE;QAAI;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC;MAAA,GAdG,GAAG9B,CAAC,IAAI+E,CAAC,EAAE;QAAApD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAeZ,CAAC;IAEX,CAAC,CACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEZ,CAAC;;AAED;AAAA6C,GAAA,CA7CMF,yBAAyB;EAAA,QAG7BlL,QAAQ;AAAA;AAAA4L,GAAA,GAHJV,yBAAyB;AA8C/B,MAAMW,WAAW,GAAGA,CAAC;EAAEC,KAAK;EAAEC,QAAQ;EAAE3I,KAAK;EAAE2B;AAA0B,CAAC,KAAK;EAAAiH,GAAA;EAC7E,MAAMC,OAAO,GAAGtM,MAAM,CAAa,IAAI,CAAC;EACxC,MAAMuM,QAAQ,GAAGvM,MAAM,CAAa,IAAI,CAAC;EACzC,MAAM,CAACwM,UAAU,EAAEC,aAAa,CAAC,GAAGxM,QAAQ,CAAC,CAAC,CAAC;EAE/C,MAAMyM,aAA8C,GAAG,CACrD,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EACZ,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,EACd,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EACX,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CACd;EAEDrM,QAAQ,CAAEoH,KAAK,IAAK;IAClB,IAAI6E,OAAO,CAAC5E,OAAO,EAAE;MACnB,MAAMiF,KAAK,GAAGlF,KAAK,CAACQ,KAAK,CAAC2E,QAAQ,CAAC,CAAC;MACpCH,aAAa,CAAElI,IAAI,IAAK,CAACA,IAAI,GAAG4H,KAAK,GAAGQ,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;MAC3DL,OAAO,CAAC5E,OAAO,CAACrC,QAAQ,CAAC4B,CAAC,GAAG,CAAC,CAAC,GAAGuF,UAAU;IAC9C;;IAEA;IACA,IAAID,QAAQ,CAAC7E,OAAO,IAAIjE,KAAK,EAAE;MAC7B,MAAMiH,KAAK,GAAG1E,IAAI,CAACgC,GAAG,CAACP,KAAK,CAACQ,KAAK,CAACC,WAAW,GAAG,CAAC,CAAC,GAAG,IAAI;MAC1DqE,QAAQ,CAAC7E,OAAO,CAACiD,KAAK,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAGF,KAAK,EAAE,CAAC,CAAC;IAC7C;EACF,CAAC,CAAC;EAEF,oBACEpI,OAAA;IAAO+C,QAAQ,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAE;IAAAsC,QAAA,gBAE3BrF,OAAA;MAAM+C,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAE;MAACwF,UAAU;MAACC,aAAa;MAAAnD,QAAA,gBACpDrF,OAAA;QAAakG,IAAI,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnCtG,OAAA;QACEiF,KAAK,EAAE9E,YAAY,CAACa,YAAa;QACjCyH,SAAS,EAAE,GAAI;QACfC,SAAS,EAAE;MAAI;QAAAvC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGPtG,OAAA;MACE+F,GAAG,EAAEiE,OAAQ;MACbjH,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;MACpBwF,UAAU;MAAAlD,QAAA,gBAEVrF,OAAA;QAAakG,IAAI,EAAE,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACvCtG,OAAA;QACEiF,KAAK,EAAE9E,YAAY,CAACC,OAAQ;QAC5BqI,SAAS,EAAE,GAAI;QACfC,SAAS,EAAE;MAAI;QAAAvC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGN8D,aAAa,CAACpE,GAAG,CAAC,CAACuE,GAAG,EAAE/F,CAAC,KAAK;MAC7B,MAAMgG,SAAS,GAAGV,QAAQ,GAAG,GAAG,GAAG3J,YAAY,CAACS,KAAK,GAAGT,YAAY,CAACQ,OAAO;MAC5E,MAAM8E,SAAS,GAAGqE,QAAQ,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;MAE5C,oBACE9J,OAAA;QAAe+C,QAAQ,EAAEwH,GAAI;QAAAlF,QAAA,gBAC3BrF,OAAA;UAAMuI,UAAU;UAAAlD,QAAA,gBACdrF,OAAA;YAAkBkG,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC3CtG,OAAA;YACEiF,KAAK,EAAEuF,SAAU;YACjBjE,QAAQ,EAAEiE,SAAU;YACpB1E,iBAAiB,EAAEL,SAAU;YAC7BgD,SAAS,EAAE,GAAI;YACfC,SAAS,EAAE;UAAI;YAAAvC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAGNnF,KAAK,IAAIqD,CAAC,KAAK,CAAC,iBACfxE,OAAA;UACE+F,GAAG,EAAEkE,QAAS;UACdlH,QAAQ,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAE;UACtBwF,UAAU;UAAAlD,QAAA,gBAEVrF,OAAA;YAAakG,IAAI,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAClCtG,OAAA;YACEiF,KAAK,EAAE9E,YAAY,CAACM,MAAO;YAC3B+F,WAAW;YACXC,OAAO,EAAE,GAAI;YACbgC,SAAS,EAAE,GAAI;YACfC,SAAS,EAAE,GAAI;YACf+B,YAAY,EAAE,GAAI;YAClBC,SAAS,EAAE;UAAI;YAAAvE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACP,eAEDtG,OAAA,CAAC/B,IAAI;UACH8E,QAAQ,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAE;UACtBkC,KAAK,EAAE9E,YAAY,CAACe,aAAc;UAClCyH,QAAQ,EAAE,IAAK;UACfE,OAAO,EAAC,QAAQ;UAAAxD,QAAA,GAEfyE,QAAQ,CAACf,OAAO,CAAC,CAAC,CAAC,EAAC,OACvB;QAAA;UAAA5C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA,GAvCG9B,CAAC;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAwCN,CAAC;IAEZ,CAAC,CAAC,eAGFtG,OAAA,CAAC2G,WAAW;MAAC7D,OAAO,EAAEA,OAAQ;MAAC8D,SAAS,EAAEwD;IAAc;MAAAjE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAG3DtG,OAAA,CAAC/B,IAAI;MACH8E,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAE;MACrBkC,KAAK,EAAE9E,YAAY,CAACM,MAAO;MAC3BkI,QAAQ,EAAE,IAAK;MACfC,UAAU,EAAE,GAAI;MAChBC,OAAO,EAAC,QAAQ;MAAAxD,QAAA,GAEfwE,KAAK,CAACd,OAAO,CAAC,CAAC,CAAC,EAAC,4BACpB;IAAA;MAAA5C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEZ,CAAC;;AAED;AAAAyD,GAAA,CAvHMH,WAAW;EAAA,QAYf7L,QAAQ;AAAA;AAAA4M,GAAA,GAZJf,WAAW;AAwHjB,MAAMgB,aAAa,GAAGA,CAAA,KAAM;EAC1B,oBACE5K,OAAA,CAAAE,SAAA;IAAAmF,QAAA,gBACErF,OAAA;MAAcyF,SAAS,EAAE;IAAI;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAChCtG,OAAA;MACE+C,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAE;MACvB0C,SAAS,EAAE,GAAI;MACf8C,UAAU;MACV,wBAAsB,IAAK;MAC3B,yBAAuB;IAAK;MAAApC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eACFtG,OAAA;MACE+C,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAE;MACxB0C,SAAS,EAAE,GAAI;MACfR,KAAK,EAAE9E,YAAY,CAACC;IAAQ;MAAA+F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eACFtG,OAAA;MACE+C,QAAQ,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAE;MACrBmE,KAAK,EAAE,GAAI;MACX2D,QAAQ,EAAE,CAAE;MACZpF,SAAS,EAAE,CAAE;MACb8C,UAAU;MACVtD,KAAK,EAAE9E,YAAY,CAACM;IAAO;MAAA0F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,eAGFtG,OAAA;MACEwH,QAAQ,EAAE,CAAC,CAAC9D,IAAI,CAACyD,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;MAC/BpE,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAE;MACvByF,aAAa;MAAAnD,QAAA,gBAEbrF,OAAA;QAAekG,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACjCtG,OAAA;QACEiF,KAAK,EAAE9E,YAAY,CAACU,UAAW;QAC/B4H,SAAS,EAAE,GAAI;QACfC,SAAS,EAAE;MAAI;QAAAvC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGPtG,OAAA;MACEkG,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE/F,YAAY,CAACC,OAAO,EAAED,YAAY,CAACa,YAAY,CAAE;MAChE+B,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;IAAE;MAAAoD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;;AAED;AAAAwE,GAAA,GAhDMF,aAAa;AAiDnB,MAAMG,gBAAgB,GAAGA,CAAC;EACxBC,WAAW;EACXlB,QAAQ;EACRmB,SAAS;EACTnI,OAAO;EACP8E,YAAY;EACZsD,gBAAgB;EAChBC;AACqB,CAAC,KAAK;EAC3B,oBACEnL,OAAA,CAAAE,SAAA;IAAAmF,QAAA,gBACErF,OAAA,CAAC4K,aAAa;MAAAzE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEjBtG,OAAA,CAAC0H,eAAe;MACdC,WAAW,EAAEqD,WAAY;MACzBpD,YAAY,EAAEA,YAAa;MAC3BC,SAAS,EAAEqD,gBAAiB;MAC5BpI,OAAO,EAAEA;IAAQ;MAAAqD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClB,CAAC,eAEFtG,OAAA,CAAC4J,WAAW;MACVC,KAAK,EAAEoB,SAAU;MACjBnB,QAAQ,EAAEA,QAAS;MACnB3I,KAAK,EAAE,IAAK;MACZ2B,OAAO,EAAEA;IAAQ;MAAAqD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClB,CAAC,eAGFtG,OAAA;MAAM+C,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAE;MAACyF,aAAa;MAAAnD,QAAA,gBACvCrF,OAAA;QAAakG,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACjCtG,OAAA;QACEiF,KAAK,EAAE9E,YAAY,CAACa,YAAa;QACjCyH,SAAS,EAAE,GAAI;QACfC,SAAS,EAAE,GAAI;QACflC,WAAW;QACXC,OAAO,EAAE;MAAI;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACd,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGPtG,OAAA,CAAC/B,IAAI;MACH8E,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE;MACpBkC,KAAK,EAAE9E,YAAY,CAACC,OAAQ;MAC5BuI,QAAQ,EAAE,GAAI;MACdC,UAAU,EAAE,GAAI;MAChBC,OAAO,EAAC,QAAQ;MAChBC,OAAO,EAAC,QAAQ;MAAAzD,QAAA,EACjB;IAED;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAEPtG,OAAA,CAAChC,aAAa;MACZoN,SAAS,EAAE,IAAK;MAChBC,UAAU,EAAE,IAAK;MACjBC,YAAY,EAAE,IAAK;MACnBC,aAAa,EAAE7H,IAAI,CAACyD,EAAE,GAAG,CAAE;MAC3BqE,WAAW,EAAE,CAAE;MACfC,WAAW,EAAE;IAAG;MAAAtF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC;EAAA,eACF,CAAC;AAEP,CAAC;;AAED;AAAAoF,GAAA,GA/DMX,gBAAgB;AAgEtB,MAAMY,qBAAqB,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAClC,MAAMrK,MAAM,GAAGH,YAAY,CAAC,iCAAiC,CAAC;EAE9D,MAAM,CAACyK,SAAS,EAAEC,YAAY,CAAC,GAAGnO,QAAQ,CAAC;IACzCqN,WAAW,EAAE,IAAI;IACjBlB,QAAQ,EAAE,GAAG;IACbmB,SAAS,EAAE,GAAG;IACdnI,OAAO,EAAE;MAAEgB,KAAK,EAAE,GAAG;MAAEC,MAAM,EAAE,IAAI;MAAEC,IAAI,EAAE,IAAI;MAAEC,UAAU,EAAE,IAAI;MAAEC,WAAW,EAAE,IAAI;MAAEC,MAAM,EAAE;IAAM;EACtG,CAAC,CAAC;EAEF,MAAM,CAAC4H,WAAW,EAAEC,cAAc,CAAC,GAAGrO,QAAQ,CAAC;IAC7CqN,WAAW,EAAE,IAAI;IACjBlB,QAAQ,EAAE,GAAG;IACbmB,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGvO,QAAQ,CAA4B,CAAC,CAAC,CAAC;EACjF,MAAM,CAACwO,UAAU,EAAEC,aAAa,CAAC,GAAGzO,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC0O,UAAU,EAAEC,aAAa,CAAC,GAAG3O,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC4O,YAAY,EAAEC,eAAe,CAAC,GAAG7O,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACuN,gBAAgB,EAAEuB,mBAAmB,CAAC,GAAG9O,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACwN,WAAW,EAAEuB,cAAc,CAAC,GAAG/O,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACgP,WAAW,EAAEC,cAAc,CAAC,GAAGjP,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACiK,YAAY,EAAEiF,eAAe,CAAC,GAAGlP,QAAQ,CAAoB,IAAI,CAAC;EAEzEC,SAAS,CAAC,MAAM;IACd,IAAI2D,MAAM,CAACE,UAAU,EAAE;MACrBqK,YAAY,CAAC7J,IAAI;QAAA,IAAA6K,kBAAA,EAAAC,qBAAA,EAAAC,mBAAA,EAAAC,qBAAA,EAAAC,mBAAA,EAAAC,qBAAA,EAAAC,mBAAA;QAAA,OAAK;UACpB,GAAGnL,IAAI;UACP+I,WAAW,EAAE,EAAA8B,kBAAA,GAAAvL,MAAM,CAACE,UAAU,cAAAqL,kBAAA,wBAAAC,qBAAA,GAAjBD,kBAAA,CAAmBO,OAAO,cAAAN,qBAAA,uBAA1BA,qBAAA,CAA4BpF,WAAW,KAAI1F,IAAI,CAAC+I,WAAW;UACxElB,QAAQ,EAAE,EAAAkD,mBAAA,GAAAzL,MAAM,CAACE,UAAU,cAAAuL,mBAAA,wBAAAC,qBAAA,GAAjBD,mBAAA,CAAmBM,OAAO,cAAAL,qBAAA,uBAA1BA,qBAAA,CAA4BM,SAAS,KAAItL,IAAI,CAAC6H,QAAQ;UAChEmB,SAAS,EAAE,EAAAiC,mBAAA,GAAA3L,MAAM,CAACE,UAAU,cAAAyL,mBAAA,wBAAAC,qBAAA,GAAjBD,mBAAA,CAAmBI,OAAO,cAAAH,qBAAA,uBAA1BA,qBAAA,CAA4BtD,KAAK,KAAI5H,IAAI,CAACgJ,SAAS;UAC9DnI,OAAO,EAAE,EAAAsK,mBAAA,GAAA7L,MAAM,CAACE,UAAU,cAAA2L,mBAAA,uBAAjBA,mBAAA,CAAmBtK,OAAO,KAAIb,IAAI,CAACa;QAC9C,CAAC;MAAA,CAAC,CAAC;IACL;EACF,CAAC,EAAE,CAACvB,MAAM,CAACE,UAAU,CAAC,CAAC;EAEvB7D,SAAS,CAAC,MAAM;IACd;IACA,MAAMsL,KAAK,GAAG9E,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE;IAAG,CAAC,EAAE,CAACC,CAAC,EAAEC,CAAC,KAC5CJ,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE;IAAG,CAAC,EAAE,CAACC,CAAC,EAAEgF,CAAC,KAAK;MACnC,MAAMiE,UAAU,GAAG9J,IAAI,CAAC+J,IAAI,CAC1B/J,IAAI,CAACgK,GAAG,CAAClJ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,GAAGd,IAAI,CAACgK,GAAG,CAACnE,CAAC,GAAG,CAAC,EAAE,CAAC,CACxC,CAAC;MACD,OAAO,IAAI,GAAG,CAACsC,SAAS,CAACb,WAAW,GAAG,IAAI,IAAItH,IAAI,CAACiK,GAAG,CAAC,CAACH,UAAU,GAAG,CAAC,CAAC;IAC1E,CAAC,CACH,CAAC;IACDX,eAAe,CAAC3D,KAAK,CAAC;EACxB,CAAC,EAAE,CAAC2C,SAAS,CAACb,WAAW,CAAC,CAAC;EAE3B,MAAM4C,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjCpB,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI;MACF,MAAMqB,QAAQ,GAAG,MAAMC,KAAK,CAAC,gDAAgD,EAAE;QAC7EC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAE5L,IAAI,CAAC6L,SAAS,CAAC;UACnBC,iBAAiB,EAAE;YACjBC,mBAAmB,EAAErC,WAAW,CAACf,WAAW;YAC5CqD,UAAU,EAAEtC,WAAW,CAACd,SAAS;YACjCqD,gBAAgB,EAAEvC,WAAW,CAACjC;UAChC;QACF,CAAC;MACH,CAAC,CAAC;MAEF,MAAMvH,IAAI,GAAG,MAAMsL,QAAQ,CAACU,IAAI,CAAC,CAAC;MAElC,IAAIhM,IAAI,CAACiM,eAAe,EAAE;QACxB,MAAMC,MAAM,GAAGlM,IAAI,CAACiM,eAAe;QACnC,MAAME,UAAqC,GAAG,CAAC,CAAC;QAChDtL,MAAM,CAAC2B,IAAI,CAAC8G,SAAS,CAAC/I,OAAO,CAAC,CAACwC,OAAO,CAACqJ,GAAG,IAAI;UAC5CD,UAAU,CAACC,GAAG,CAAC,GAAGjL,IAAI,CAACyE,GAAG,CAAC,CAAC,EAAEzE,IAAI,CAACC,GAAG,CAAC,CAAC,EACrCkI,SAAS,CAAC/I,OAAO,CAAS6L,GAAG,CAAC,IAAI,CAAC,GAAG,CAACF,MAAM,CAACG,0BAA0B,IAAI,CAAC,IAAI,GAAG,CACvF,CAAC,CAAC;QACJ,CAAC,CAAC;QACF1C,gBAAgB,CAACwC,UAAU,CAAC;MAC9B;IACF,CAAC,CAAC,OAAOhM,GAAG,EAAE;MACZX,OAAO,CAACnB,KAAK,CAAC,2BAA2B,EAAE8B,GAAG,CAAC;MAC/C;MACA,MAAMmM,OAAO,GAAGnL,IAAI,CAACoL,GAAG,CAAC/C,WAAW,CAACf,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE;MAC7D,MAAM+D,QAAQ,GAAGrL,IAAI,CAACoL,GAAG,CAAC/C,WAAW,CAACd,SAAS,GAAG,GAAG,CAAC,GAAG,EAAE;MAE3DiB,gBAAgB,CAAC;QACfpI,KAAK,EAAEJ,IAAI,CAACC,GAAG,CAACkL,OAAO,GAAG,GAAG,EAAE,GAAG,CAAC;QACnC9K,MAAM,EAAEL,IAAI,CAACC,GAAG,CAACkL,OAAO,GAAG,GAAG,EAAE,GAAG,CAAC;QACpC7K,IAAI,EAAEN,IAAI,CAACC,GAAG,CAACoL,QAAQ,GAAG,IAAI,EAAE,IAAI,CAAC;QACrC9K,UAAU,EAAEP,IAAI,CAACC,GAAG,CAACkL,OAAO,GAAG,IAAI,EAAE,GAAG,CAAC;QACzC3K,WAAW,EAAER,IAAI,CAACC,GAAG,CAACoL,QAAQ,GAAG,GAAG,EAAE,GAAG,CAAC;QAC1C5K,MAAM,EAAET,IAAI,CAACC,GAAG,CAACkL,OAAO,GAAG,IAAI,EAAE,GAAG;MACtC,CAAC,CAAC;IACJ;IAEAG,UAAU,CAAC,MAAMxC,eAAe,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC;EAC/C,CAAC;EAED,MAAMyC,WAAW,GAAGA,CAAA,KAAM;IACxBjD,cAAc,CAAC;MACbhB,WAAW,EAAEa,SAAS,CAACb,WAAW;MAClClB,QAAQ,EAAE+B,SAAS,CAAC/B,QAAQ;MAC5BmB,SAAS,EAAEY,SAAS,CAACZ;IACvB,CAAC,CAAC;IACFiB,gBAAgB,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,MAAMgD,kBAAkB,GAAGA,CAACP,GAA6C,EAAEQ,KAAwB,KAAK;IACtG,MAAMC,QAAQ,GAAGhL,KAAK,CAACiL,OAAO,CAACF,KAAK,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK;IACxDnD,cAAc,CAAC/J,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAAC0M,GAAG,GAAGS;IAAS,CAAC,CAAC,CAAC;EACxD,CAAC;EAED,MAAME,YAAY,GAAGjD,UAAU,GAC7B;IAAE,GAAGN,WAAW;IAAEjJ,OAAO,EAAEM,MAAM,CAAC2B,IAAI,CAACkH,aAAa,CAAC,CAAC3H,MAAM,GAAG,CAAC,GAAG2H,aAAa,GAAGJ,SAAS,CAAC/I;EAAQ,CAAC,GACtG+I,SAAS;EAEX,oBACE7L,OAAA,CAAC7B,GAAG;IAACoR,EAAE,EAAE;MACPC,KAAK,EAAE,MAAM;MACbC,SAAS,EAAE,OAAO;MAClB5O,UAAU,EAAE,2BAA2BV,YAAY,CAACU,UAAU,QAAQV,YAAY,CAACW,eAAe,QAAQ;MAC1G4O,CAAC,EAAE;IACL,CAAE;IAAArK,QAAA,gBAEArF,OAAA,CAACtB,IAAI;MAAC6Q,EAAE,EAAE;QACRI,EAAE,EAAE,CAAC;QACL9O,UAAU,EAAE,2BAA2BV,YAAY,CAACY,OAAO,UAAUZ,YAAY,CAACa,YAAY,UAAU;QACxG4O,cAAc,EAAE,YAAY;QAC5BC,MAAM,EAAE,aAAa1P,YAAY,CAACC,OAAO,IAAI;QAC7C0P,SAAS,EAAE,cAAc3P,YAAY,CAACC,OAAO;MAC/C,CAAE;MAAAiF,QAAA,eACArF,OAAA,CAACrB,WAAW;QAAA0G,QAAA,eACVrF,OAAA,CAACvB,IAAI;UAACsR,SAAS;UAACC,OAAO,EAAE,CAAE;UAACC,UAAU,EAAC,QAAQ;UAAA5K,QAAA,gBAC7CrF,OAAA,CAACvB,IAAI;YAACyR,IAAI;YAACC,EAAE,EAAE,EAAG;YAACC,EAAE,EAAE,CAAE;YAAA/K,QAAA,gBACvBrF,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,IAAI;cAACd,EAAE,EAAE;gBAC3BtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;gBACxB2H,UAAU,EAAE,GAAG;gBACf/H,UAAU,EAAE,0BAA0BV,YAAY,CAACC,OAAO,KAAKD,YAAY,CAACM,MAAM,GAAG;gBACrF6P,oBAAoB,EAAE,MAAM;gBAC5BC,mBAAmB,EAAE,aAAa;gBAClCC,OAAO,EAAE,MAAM;gBACfP,UAAU,EAAE,QAAQ;gBACpBQ,GAAG,EAAE;cACP,CAAE;cAAApL,QAAA,EAAC;YAEH;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbtG,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,OAAO;cAACd,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACe,aAAa;gBAAEwP,EAAE,EAAE;cAAI,CAAE;cAAArL,QAAA,EAAC;YAEhF;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eAEPtG,OAAA,CAACvB,IAAI;YAACyR,IAAI;YAACC,EAAE,EAAE,EAAG;YAACC,EAAE,EAAE,CAAE;YAAA/K,QAAA,eACvBrF,OAAA,CAACjB,KAAK;cAAC4R,SAAS,EAAC,KAAK;cAACX,OAAO,EAAE,CAAE;cAACY,cAAc,EAAC,UAAU;cAACC,QAAQ,EAAC,MAAM;cAAAxL,QAAA,gBAC1ErF,OAAA,CAAC5B,IAAI;gBACH0S,IAAI,EAAEvP,MAAM,CAACI,WAAW,gBAAG3B,OAAA,CAACJ,WAAW;kBAAAuG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAAGtG,OAAA,CAACL,OAAO;kBAAAwG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAE;gBACzDyK,KAAK,EAAExP,MAAM,CAACI,WAAW,GAAG,YAAY,GAAG,WAAY;gBACvDsD,KAAK,EAAE1D,MAAM,CAACI,WAAW,GAAG,SAAS,GAAG,OAAQ;gBAChDuD,IAAI,EAAC,OAAO;gBACZqK,EAAE,EAAE;kBACF3G,UAAU,EAAE,GAAG;kBACf/H,UAAU,EAAEU,MAAM,CAACI,WAAW,GAAGxB,YAAY,CAACO,OAAO,GAAGP,YAAY,CAACS,KAAK;kBAC1EqE,KAAK,EAAE9E,YAAY,CAACc;gBACtB;cAAE;gBAAAkF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEFtG,OAAA,CAAC7B,GAAG;gBAACoR,EAAE,EAAE;kBAAEiB,OAAO,EAAE,MAAM;kBAAEP,UAAU,EAAE;gBAAS,CAAE;gBAAA5K,QAAA,gBACjDrF,OAAA,CAACnB,gBAAgB;kBACfmS,OAAO,eACLhR,OAAA,CAACpB,MAAM;oBACLqS,OAAO,EAAE9E,UAAW;oBACpB+E,QAAQ,EAAGC,CAAC,IAAK;sBACf/E,aAAa,CAAC+E,CAAC,CAACC,MAAM,CAACH,OAAO,CAAC;sBAC/B,IAAIE,CAAC,CAACC,MAAM,CAACH,OAAO,EAAE3E,aAAa,CAAC,KAAK,CAAC;oBAC5C,CAAE;oBACFiD,EAAE,EAAE;sBACF,qCAAqC,EAAE;wBACrCtK,KAAK,EAAE9E,YAAY,CAACC;sBACtB;oBACF;kBAAE;oBAAA+F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CACF;kBACDyK,KAAK,EAAC,aAAa;kBACnBxB,EAAE,EAAE;oBAAE8B,EAAE,EAAE;kBAAE;gBAAE;kBAAAlL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACf,CAAC,eAEFtG,OAAA,CAACnB,gBAAgB;kBACfmS,OAAO,eACLhR,OAAA,CAACpB,MAAM;oBACLqS,OAAO,EAAE5E,UAAW;oBACpB6E,QAAQ,EAAGC,CAAC,IAAK;sBACf7E,aAAa,CAAC6E,CAAC,CAACC,MAAM,CAACH,OAAO,CAAC;sBAC/B,IAAIE,CAAC,CAACC,MAAM,CAACH,OAAO,EAAE7E,aAAa,CAAC,KAAK,CAAC;oBAC5C,CAAE;oBACFmD,EAAE,EAAE;sBACF,qCAAqC,EAAE;wBACrCtK,KAAK,EAAE9E,YAAY,CAACI;sBACtB;oBACF;kBAAE;oBAAA4F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CACF;kBACDyK,KAAK,EAAC;gBAAS;kBAAA5K,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChB,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,eAEPtG,OAAA,CAACvB,IAAI;MAACsR,SAAS;MAACC,OAAO,EAAE,CAAE;MAAA3K,QAAA,gBAEzBrF,OAAA,CAACvB,IAAI;QAACyR,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE/D,UAAU,GAAG,CAAC,GAAG,EAAG;QAAAhH,QAAA,eACzCrF,OAAA,CAAC3B,KAAK;UACJiT,SAAS,EAAE,CAAE;UACb/B,EAAE,EAAE;YACFnI,MAAM,EAAE,OAAO;YACfrE,QAAQ,EAAE,UAAU;YACpBwO,QAAQ,EAAE,QAAQ;YAClB1Q,UAAU,EAAEV,YAAY,CAACU,UAAU;YACnCgP,MAAM,EAAE,aAAaxD,UAAU,GAAGlM,YAAY,CAACI,SAAS,GAAGJ,YAAY,CAACC,OAAO,IAAI;YACnFoR,YAAY,EAAE,CAAC;YACf1B,SAAS,EAAE,cAAc3P,YAAY,CAACC,OAAO;UAC/C,CAAE;UAAAiF,QAAA,gBAEFrF,OAAA,CAAClC,MAAM;YACL2T,OAAO;YACPC,MAAM,EAAE;cAAE3O,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC;cAAE4O,GAAG,EAAE;YAAG,CAAE;YAAAtM,QAAA,eAE3CrF,OAAA,CAAC+K,gBAAgB;cACfC,WAAW,EAAEsE,YAAY,CAACtE,WAAY;cACtClB,QAAQ,EAAEwF,YAAY,CAACxF,QAAS;cAChCmB,SAAS,EAAEqE,YAAY,CAACrE,SAAU;cAClCnI,OAAO,EAAEwM,YAAY,CAACxM,OAAQ;cAC9B8E,YAAY,EAAEA,YAAa;cAC3BsD,gBAAgB,EAAEA,gBAAiB;cACnCC,WAAW,EAAEA;YAAY;cAAAhF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC,eAGTtG,OAAA,CAACjB,KAAK;YACJiR,OAAO,EAAE,CAAE;YACXT,EAAE,EAAE;cACFxM,QAAQ,EAAE,UAAU;cACpB6O,GAAG,EAAE,EAAE;cACPC,KAAK,EAAE,EAAE;cACThR,UAAU,EAAE,GAAGV,YAAY,CAACY,OAAO,IAAI;cACvC6O,cAAc,EAAE,YAAY;cAC5BF,CAAC,EAAE,GAAG;cACN8B,YAAY,EAAE,CAAC;cACf3B,MAAM,EAAE,aAAa1P,YAAY,CAACC,OAAO,IAAI;cAC7CoQ,OAAO,EAAE,MAAM;cACfsB,aAAa,EAAE;YACjB,CAAE;YAAAzM,QAAA,gBAEFrF,OAAA,CAACf,OAAO;cAAC8S,KAAK,EAAC,2EAAe;cAAA1M,QAAA,eAC5BrF,OAAA,CAACd,UAAU;gBACTgG,IAAI,EAAC,OAAO;gBACZ8M,OAAO,EAAEA,CAAA,KAAMvF,mBAAmB,CAAC,CAACvB,gBAAgB,CAAE;gBACtDqE,EAAE,EAAE;kBACFtK,KAAK,EAAEiG,gBAAgB,GAAG/K,YAAY,CAACM,MAAM,GAAGN,YAAY,CAACe,aAAa;kBAC1E,SAAS,EAAE;oBAAEL,UAAU,EAAE,GAAGV,YAAY,CAACC,OAAO;kBAAK;gBACvD,CAAE;gBAAAiF,QAAA,eAEFrF,OAAA,CAACP,UAAU;kBAAA0G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAEVtG,OAAA,CAACf,OAAO;cAAC8S,KAAK,EAAC,4CAAS;cAAA1M,QAAA,eACtBrF,OAAA,CAACd,UAAU;gBACTgG,IAAI,EAAC,OAAO;gBACZ8M,OAAO,EAAEA,CAAA,KAAMtF,cAAc,CAAC,CAACvB,WAAW,CAAE;gBAC5CoE,EAAE,EAAE;kBACFtK,KAAK,EAAEkG,WAAW,GAAGhL,YAAY,CAACS,KAAK,GAAGT,YAAY,CAACe,aAAa;kBACpE,SAAS,EAAE;oBAAEL,UAAU,EAAE,GAAGV,YAAY,CAACC,OAAO;kBAAK;gBACvD,CAAE;gBAAAiF,QAAA,EAED8F,WAAW,gBAAGnL,OAAA,CAACH,UAAU;kBAAAsG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAAGtG,OAAA,CAACF,aAAa;kBAAAqG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAEVtG,OAAA,CAACf,OAAO;cAAC8S,KAAK,EAAC,sCAAQ;cAAA1M,QAAA,eACrBrF,OAAA,CAACd,UAAU;gBACTgG,IAAI,EAAC,OAAO;gBACZ8M,OAAO,EAAEA,CAAA,KAAMpF,cAAc,CAAC,CAACD,WAAW,CAAE;gBAC5C4C,EAAE,EAAE;kBACFtK,KAAK,EAAE0H,WAAW,GAAGxM,YAAY,CAACC,OAAO,GAAGD,YAAY,CAACe,aAAa;kBACtE,SAAS,EAAE;oBAAEL,UAAU,EAAE,GAAGV,YAAY,CAACC,OAAO;kBAAK;gBACvD,CAAE;gBAAAiF,QAAA,eAEFrF,OAAA,CAACT,OAAO;kBAAA4G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAGRtG,OAAA,CAAC7B,GAAG;YACFoR,EAAE,EAAE;cACFxM,QAAQ,EAAE,UAAU;cACpBkP,MAAM,EAAE,EAAE;cACVC,IAAI,EAAE,EAAE;cACRrR,UAAU,EAAE,GAAGV,YAAY,CAACY,OAAO,IAAI;cACvC6O,cAAc,EAAE,YAAY;cAC5BF,CAAC,EAAE,CAAC;cACJ8B,YAAY,EAAE,CAAC;cACf3B,MAAM,EAAE,aAAa1P,YAAY,CAACC,OAAO,IAAI;cAC7C+R,QAAQ,EAAE;YACZ,CAAE;YAAA9M,QAAA,gBAEFrF,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,SAAS;cAACd,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACe,aAAa;gBAAE0H,UAAU,EAAE,GAAG;gBAAE4H,OAAO,EAAE,OAAO;gBAAEb,EAAE,EAAE;cAAE,CAAE;cAAAtK,QAAA,EAAC;YAEnH;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eAEbtG,OAAA,CAACjB,KAAK;cAACiR,OAAO,EAAE,CAAE;cAAA3K,QAAA,gBAChBrF,OAAA,CAAC7B,GAAG;gBAACoR,EAAE,EAAE;kBAAEiB,OAAO,EAAE,MAAM;kBAAEI,cAAc,EAAE,eAAe;kBAAEX,UAAU,EAAE;gBAAS,CAAE;gBAAA5K,QAAA,gBAClFrF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,OAAO;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;oBAAEuP,OAAO,EAAE,MAAM;oBAAEP,UAAU,EAAE,QAAQ;oBAAEQ,GAAG,EAAE;kBAAI,CAAE;kBAAApL,QAAA,gBAC5GrF,OAAA,CAACR,mBAAmB;oBAACmJ,QAAQ,EAAC;kBAAO;oBAAAxC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,8BAC1C;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAC5B,IAAI;kBACH2S,KAAK,EAAE,GAAGzB,YAAY,CAACtE,WAAW,IAAK;kBACvC9F,IAAI,EAAC,OAAO;kBACZqK,EAAE,EAAE;oBACF1O,UAAU,EAAE,0BAA0BV,YAAY,CAACI,SAAS,KAAKJ,YAAY,CAACS,KAAK,GAAG;oBACtFqE,KAAK,EAAE9E,YAAY,CAACc,IAAI;oBACxB2H,UAAU,EAAE;kBACd;gBAAE;kBAAAzC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAENtG,OAAA,CAAC7B,GAAG;gBAACoR,EAAE,EAAE;kBAAEiB,OAAO,EAAE,MAAM;kBAAEI,cAAc,EAAE,eAAe;kBAAEX,UAAU,EAAE;gBAAS,CAAE;gBAAA5K,QAAA,gBAClFrF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,OAAO;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;oBAAEuP,OAAO,EAAE,MAAM;oBAAEP,UAAU,EAAE,QAAQ;oBAAEQ,GAAG,EAAE;kBAAI,CAAE;kBAAApL,QAAA,gBAC5GrF,OAAA,CAACP,UAAU;oBAACkJ,QAAQ,EAAC;kBAAO;oBAAAxC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,oCACjC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAC5B,IAAI;kBACH2S,KAAK,EAAE,GAAGzB,YAAY,CAACxF,QAAQ,IAAK;kBACpC5E,IAAI,EAAC,OAAO;kBACZqK,EAAE,EAAE;oBACF1O,UAAU,EAAEV,YAAY,CAACQ,OAAO;oBAChCsE,KAAK,EAAE9E,YAAY,CAACU,UAAU;oBAC9B+H,UAAU,EAAE;kBACd;gBAAE;kBAAAzC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAENtG,OAAA,CAAC7B,GAAG;gBAACoR,EAAE,EAAE;kBAAEiB,OAAO,EAAE,MAAM;kBAAEI,cAAc,EAAE,eAAe;kBAAEX,UAAU,EAAE;gBAAS,CAAE;gBAAA5K,QAAA,gBAClFrF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,OAAO;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;oBAAEuP,OAAO,EAAE,MAAM;oBAAEP,UAAU,EAAE,QAAQ;oBAAEQ,GAAG,EAAE;kBAAI,CAAE;kBAAApL,QAAA,gBAC5GrF,OAAA,CAACN,KAAK;oBAACiJ,QAAQ,EAAC;kBAAO;oBAAAxC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,sDAC5B;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAC5B,IAAI;kBACH2S,KAAK,EAAE,GAAGzB,YAAY,CAACrE,SAAS,QAAS;kBACzC/F,IAAI,EAAC,OAAO;kBACZqK,EAAE,EAAE;oBACF1O,UAAU,EAAEV,YAAY,CAACC,OAAO;oBAChC6E,KAAK,EAAE9E,YAAY,CAACc,IAAI;oBACxB2H,UAAU,EAAE;kBACd;gBAAE;kBAAAzC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eAERtG,OAAA,CAAClB,OAAO;cAACyQ,EAAE,EAAE;gBAAE6C,EAAE,EAAE,GAAG;gBAAEC,WAAW,EAAE,GAAGlS,YAAY,CAACC,OAAO;cAAK;YAAE;cAAA+F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAEtEtG,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,SAAS;cAACd,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACe,aAAa;gBAAE0H,UAAU,EAAE,GAAG;gBAAE4H,OAAO,EAAE,OAAO;gBAAEb,EAAE,EAAE;cAAE,CAAE;cAAAtK,QAAA,EAAC;YAEnH;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eAEbtG,OAAA,CAACjB,KAAK;cAACiR,OAAO,EAAE,GAAI;cAAA3K,QAAA,EACjBjC,MAAM,CAACkP,OAAO,CAAChD,YAAY,CAACxM,OAAO,CAAC,CAACkD,GAAG,CAAC,CAAC,CAACxD,IAAI,EAAE+P,IAAI,CAAC,kBACrDvS,OAAA,CAAC7B,GAAG;gBAAYoR,EAAE,EAAE;kBAAEiB,OAAO,EAAE,MAAM;kBAAEP,UAAU,EAAE,QAAQ;kBAAEQ,GAAG,EAAE;gBAAE,CAAE;gBAAApL,QAAA,gBACpErF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,SAAS;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACe,aAAa;oBAAEiR,QAAQ,EAAE,EAAE;oBAAEK,aAAa,EAAE;kBAAa,CAAE;kBAAAnN,QAAA,GAChH7C,IAAI,EAAC,GACR;gBAAA;kBAAA2D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAChB,cAAc;kBACbqR,OAAO,EAAC,aAAa;kBACrBlB,KAAK,EAAEoD,IAAI,GAAG,GAAI;kBAClBhD,EAAE,EAAE;oBACFkD,IAAI,EAAE,CAAC;oBACPrL,MAAM,EAAE,CAAC;oBACToK,YAAY,EAAE,CAAC;oBACf3Q,UAAU,EAAE,GAAGV,YAAY,CAACgB,KAAK,IAAI;oBACrC,0BAA0B,EAAE;sBAC1BN,UAAU,EAAE0R,IAAI,GAAG,GAAG,GAAGpS,YAAY,CAACS,KAAK,GAAG2R,IAAI,GAAG,IAAI,GAAGpS,YAAY,CAACQ,OAAO,GAAGR,YAAY,CAACO,OAAO;sBACvG8Q,YAAY,EAAE;oBAChB;kBACF;gBAAE;kBAAArL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACFtG,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,SAAS;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;oBAAE2H,UAAU,EAAE,GAAG;oBAAEuJ,QAAQ,EAAE,EAAE;oBAAEO,SAAS,EAAE;kBAAQ,CAAE;kBAAArN,QAAA,GAC/G,CAACkN,IAAI,GAAG,GAAG,EAAExJ,OAAO,CAAC,CAAC,CAAC,EAAC,GAC3B;gBAAA;kBAAA5C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA,GApBL9D,IAAI;gBAAA2D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAqBT,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,EAGN+F,UAAU,iBACTrM,OAAA,CAACvB,IAAI;QAACyR,IAAI;QAACC,EAAE,EAAE,EAAG;QAACC,EAAE,EAAE,CAAE;QAAA/K,QAAA,eACvBrF,OAAA,CAAC3B,KAAK;UACJiT,SAAS,EAAE,CAAE;UACb/B,EAAE,EAAE;YACFnI,MAAM,EAAE,OAAO;YACfmK,QAAQ,EAAE,MAAM;YAChB1Q,UAAU,EAAE,2BAA2BV,YAAY,CAACY,OAAO,UAAUZ,YAAY,CAACa,YAAY,UAAU;YACxG4O,cAAc,EAAE,YAAY;YAC5BF,CAAC,EAAE,CAAC;YACJG,MAAM,EAAE,aAAa1P,YAAY,CAACI,SAAS,IAAI;YAC/CiR,YAAY,EAAE,CAAC;YACf1B,SAAS,EAAE,cAAc3P,YAAY,CAACI,SAAS;UACjD,CAAE;UAAA8E,QAAA,gBAEFrF,OAAA,CAAC1B,UAAU;YAAC+R,OAAO,EAAC,IAAI;YAACd,EAAE,EAAE;cAC3BtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;cACxB0O,EAAE,EAAE,CAAC;cACL/G,UAAU,EAAE,GAAG;cACf/H,UAAU,EAAE,0BAA0BV,YAAY,CAACI,SAAS,KAAKJ,YAAY,CAACQ,OAAO,GAAG;cACxF2P,oBAAoB,EAAE,MAAM;cAC5BC,mBAAmB,EAAE,aAAa;cAClCC,OAAO,EAAE,MAAM;cACfP,UAAU,EAAE,QAAQ;cACpBQ,GAAG,EAAE;YACP,CAAE;YAAApL,QAAA,EAAC;UAEH;YAAAc,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAEbtG,OAAA,CAAClB,OAAO;YAACyQ,EAAE,EAAE;cAAEI,EAAE,EAAE,CAAC;cAAE0C,WAAW,EAAE,GAAGlS,YAAY,CAACI,SAAS;YAAK;UAAE;YAAA4F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAGtEtG,OAAA,CAAC7B,GAAG;YAACoR,EAAE,EAAE;cAAEI,EAAE,EAAE;YAAE,CAAE;YAAAtK,QAAA,gBACjBrF,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,OAAO;cAACd,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;gBAAE0O,EAAE,EAAE,CAAC;gBAAE/G,UAAU,EAAE,GAAG;gBAAE4H,OAAO,EAAE,MAAM;gBAAEP,UAAU,EAAE,QAAQ;gBAAEQ,GAAG,EAAE;cAAI,CAAE;cAAApL,QAAA,gBACpIrF,OAAA,CAACR,mBAAmB;gBAACmJ,QAAQ,EAAC;cAAO;gBAAAxC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,kGAAmB,EAACyF,WAAW,CAACf,WAAW,EAAC,OACtF;YAAA;cAAA7E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbtG,OAAA,CAACzB,MAAM;cACL4Q,KAAK,EAAEpD,WAAW,CAACf,WAAY;cAC/BkG,QAAQ,EAAEA,CAAC3M,CAAC,EAAE4K,KAAK,KAAKD,kBAAkB,CAAC,aAAa,EAAEC,KAAK,CAAE;cACjExL,GAAG,EAAE,IAAK;cACVwE,GAAG,EAAE,IAAK;cACVwK,IAAI,EAAE,CAAE;cACRC,KAAK,EAAE,CACL;gBAAEzD,KAAK,EAAE,IAAI;gBAAE4B,KAAK,EAAE;cAAO,CAAC,EAC9B;gBAAE5B,KAAK,EAAE,IAAI;gBAAE4B,KAAK,EAAE;cAAO,CAAC,EAC9B;gBAAE5B,KAAK,EAAE,IAAI;gBAAE4B,KAAK,EAAE;cAAO,CAAC,CAC9B;cACFxB,EAAE,EAAE;gBACFtK,KAAK,EAAE9E,YAAY,CAACI,SAAS;gBAC7B,wBAAwB,EAAE;kBACxB0E,KAAK,EAAE9E,YAAY,CAACe,aAAa;kBACjCyH,QAAQ,EAAE;gBACZ;cACF;YAAE;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGNtG,OAAA,CAAC7B,GAAG;YAACoR,EAAE,EAAE;cAAEI,EAAE,EAAE;YAAE,CAAE;YAAAtK,QAAA,gBACjBrF,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,OAAO;cAACd,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;gBAAE0O,EAAE,EAAE,CAAC;gBAAE/G,UAAU,EAAE,GAAG;gBAAE4H,OAAO,EAAE,MAAM;gBAAEP,UAAU,EAAE,QAAQ;gBAAEQ,GAAG,EAAE;cAAI,CAAE;cAAApL,QAAA,gBACpIrF,OAAA,CAACP,UAAU;gBAACkJ,QAAQ,EAAC;cAAO;gBAAAxC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,wGAAoB,EAACyF,WAAW,CAACjC,QAAQ,EAAC,OAC3E;YAAA;cAAA3D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbtG,OAAA,CAACzB,MAAM;cACL4Q,KAAK,EAAEpD,WAAW,CAACjC,QAAS;cAC5BoH,QAAQ,EAAEA,CAAC3M,CAAC,EAAE4K,KAAK,KAAKD,kBAAkB,CAAC,UAAU,EAAEC,KAAK,CAAE;cAC9DxL,GAAG,EAAE,GAAI;cACTwE,GAAG,EAAE,GAAI;cACTwK,IAAI,EAAE,CAAE;cACRC,KAAK,EAAE,CACL;gBAAEzD,KAAK,EAAE,GAAG;gBAAE4B,KAAK,EAAE;cAAM,CAAC,EAC5B;gBAAE5B,KAAK,EAAE,GAAG;gBAAE4B,KAAK,EAAE;cAAM,CAAC,EAC5B;gBAAE5B,KAAK,EAAE,GAAG;gBAAE4B,KAAK,EAAE;cAAM,CAAC,CAC5B;cACFxB,EAAE,EAAE;gBACFtK,KAAK,EAAE9E,YAAY,CAACQ,OAAO;gBAC3B,wBAAwB,EAAE;kBACxBsE,KAAK,EAAE9E,YAAY,CAACe,aAAa;kBACjCyH,QAAQ,EAAE;gBACZ;cACF;YAAE;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGNtG,OAAA,CAAC7B,GAAG;YAACoR,EAAE,EAAE;cAAEI,EAAE,EAAE;YAAE,CAAE;YAAAtK,QAAA,gBACjBrF,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,OAAO;cAACd,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;gBAAE0O,EAAE,EAAE,CAAC;gBAAE/G,UAAU,EAAE,GAAG;gBAAE4H,OAAO,EAAE,MAAM;gBAAEP,UAAU,EAAE,QAAQ;gBAAEQ,GAAG,EAAE;cAAI,CAAE;cAAApL,QAAA,gBACpIrF,OAAA,CAACN,KAAK;gBAACiJ,QAAQ,EAAC;cAAO;gBAAAxC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,sFAAiB,EAACyF,WAAW,CAACd,SAAS,EAAC,4BACpE;YAAA;cAAA9E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbtG,OAAA,CAACzB,MAAM;cACL4Q,KAAK,EAAEpD,WAAW,CAACd,SAAU;cAC7BiG,QAAQ,EAAEA,CAAC3M,CAAC,EAAE4K,KAAK,KAAKD,kBAAkB,CAAC,WAAW,EAAEC,KAAK,CAAE;cAC/DxL,GAAG,EAAE,GAAI;cACTwE,GAAG,EAAE,GAAI;cACTwK,IAAI,EAAE,CAAE;cACRC,KAAK,EAAE,CACL;gBAAEzD,KAAK,EAAE,GAAG;gBAAE4B,KAAK,EAAE;cAAM,CAAC,EAC5B;gBAAE5B,KAAK,EAAE,GAAG;gBAAE4B,KAAK,EAAE;cAAM,CAAC,EAC5B;gBAAE5B,KAAK,EAAE,GAAG;gBAAE4B,KAAK,EAAE;cAAM,CAAC,CAC5B;cACFxB,EAAE,EAAE;gBACFtK,KAAK,EAAE9E,YAAY,CAACC,OAAO;gBAC3B,wBAAwB,EAAE;kBACxB6E,KAAK,EAAE9E,YAAY,CAACe,aAAa;kBACjCyH,QAAQ,EAAE;gBACZ;cACF;YAAE;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGNtG,OAAA,CAACjB,KAAK;YAAC4R,SAAS,EAAC,KAAK;YAACX,OAAO,EAAE,CAAE;YAACT,EAAE,EAAE;cAAEI,EAAE,EAAE;YAAE,CAAE;YAAAtK,QAAA,gBAC/CrF,OAAA,CAACxB,MAAM;cACL6R,OAAO,EAAC,WAAW;cACnBwC,SAAS;cACTb,OAAO,EAAEpE,cAAe;cACxBkF,QAAQ,EAAEvG,YAAa;cACvBwG,SAAS,EAAExG,YAAY,GAAG,IAAI,gBAAGvM,OAAA,CAACV,UAAU;gBAAA6G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAE;cAChDiJ,EAAE,EAAE;gBACF1O,UAAU,EAAE,0BAA0BV,YAAY,CAACI,SAAS,SAASJ,YAAY,CAACQ,OAAO,OAAO;gBAChGiI,UAAU,EAAE,GAAG;gBACfkH,SAAS,EAAE,cAAc3P,YAAY,CAACI,SAAS,IAAI;gBACnD,SAAS,EAAE;kBACTM,UAAU,EAAE,0BAA0BV,YAAY,CAACK,aAAa,SAASL,YAAY,CAACQ,OAAO,OAAO;kBACpGmP,SAAS,EAAE,cAAc3P,YAAY,CAACI,SAAS;gBACjD,CAAC;gBACD,gBAAgB,EAAE;kBAChBM,UAAU,EAAEV,YAAY,CAACa,YAAY;kBACrCiE,KAAK,EAAE9E,YAAY,CAACe;gBACtB;cACF,CAAE;cAAAmE,QAAA,EAEDkH,YAAY,GAAG,WAAW,GAAG;YAAc;cAAApG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC,eAETtG,OAAA,CAACxB,MAAM;cACL6R,OAAO,EAAC,UAAU;cAClB2B,OAAO,EAAE/C,WAAY;cACrB8D,SAAS,eAAE/S,OAAA,CAACX,OAAO;gBAAA8G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAE;cACvBiJ,EAAE,EAAE;gBACF8C,WAAW,EAAElS,YAAY,CAACc,IAAI;gBAC9BgE,KAAK,EAAE9E,YAAY,CAACc,IAAI;gBACxB2H,UAAU,EAAE,GAAG;gBACf,SAAS,EAAE;kBACTyJ,WAAW,EAAElS,YAAY,CAACC,OAAO;kBACjCS,UAAU,EAAE,GAAGV,YAAY,CAACC,OAAO;gBACrC;cACF,CAAE;cAAAiF,QAAA,EACH;YAED;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,eAERtG,OAAA,CAAClB,OAAO;YAACyQ,EAAE,EAAE;cAAE6C,EAAE,EAAE,CAAC;cAAEC,WAAW,EAAE,GAAGlS,YAAY,CAACI,SAAS;YAAK;UAAE;YAAA4F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,EAGrElD,MAAM,CAAC2B,IAAI,CAACkH,aAAa,CAAC,CAAC3H,MAAM,GAAG,CAAC,iBACpCtE,OAAA,CAAC7B,GAAG;YAAAkH,QAAA,gBACFrF,OAAA,CAAC1B,UAAU;cAAC+R,OAAO,EAAC,OAAO;cAACd,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;gBAAE0O,EAAE,EAAE,CAAC;gBAAE/G,UAAU,EAAE;cAAI,CAAE;cAAAvD,QAAA,EAAC;YAEtF;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eAEbtG,OAAA,CAACjB,KAAK;cAACiR,OAAO,EAAE,GAAI;cAAA3K,QAAA,EACjBjC,MAAM,CAACkP,OAAO,CAACrG,aAAa,CAAC,CAACjG,GAAG,CAAC,CAAC,CAACxD,IAAI,EAAE+P,IAAI,CAAC,kBAC9CvS,OAAA,CAACtB,IAAI;gBAEH6Q,EAAE,EAAE;kBACFyD,OAAO,EAAE,GAAGT,IAAI,GAAG,GAAG,GAAGpS,YAAY,CAACS,KAAK,GAAG2R,IAAI,GAAG,IAAI,GAAGpS,YAAY,CAACQ,OAAO,GAAGR,YAAY,CAACO,OAAO,IAAI;kBAC3GmP,MAAM,EAAE,WAAW;kBACnBwC,WAAW,EAAEE,IAAI,GAAG,GAAG,GAAGpS,YAAY,CAACS,KAAK,GAAG2R,IAAI,GAAG,IAAI,GAAGpS,YAAY,CAACQ,OAAO,GAAGR,YAAY,CAACO,OAAO;kBACxGoP,SAAS,EAAE,cAAcyC,IAAI,GAAG,GAAG,GAAGpS,YAAY,CAACS,KAAK,GAAG2R,IAAI,GAAG,IAAI,GAAGpS,YAAY,CAACQ,OAAO,GAAGR,YAAY,CAACO,OAAO;gBACtH,CAAE;gBAAA2E,QAAA,eAEFrF,OAAA,CAACrB,WAAW;kBAAC4Q,EAAE,EAAE;oBAAE0D,EAAE,EAAE;kBAAI,CAAE;kBAAA5N,QAAA,gBAC3BrF,OAAA,CAAC1B,UAAU;oBAAC+R,OAAO,EAAC,SAAS;oBAACd,EAAE,EAAE;sBAAEtK,KAAK,EAAE9E,YAAY,CAACe,aAAa;sBAAEsR,aAAa,EAAE;oBAAa,CAAE;oBAAAnN,QAAA,EAClG7C;kBAAI;oBAAA2D,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACK,CAAC,eACbtG,OAAA,CAAC1B,UAAU;oBAAC+R,OAAO,EAAC,IAAI;oBAACd,EAAE,EAAE;sBAC3BtK,KAAK,EAAEsN,IAAI,GAAG,GAAG,GAAGpS,YAAY,CAACS,KAAK,GAAG2R,IAAI,GAAG,IAAI,GAAGpS,YAAY,CAACQ,OAAO,GAAGR,YAAY,CAACO,OAAO;sBAClGkI,UAAU,EAAE;oBACd,CAAE;oBAAAvD,QAAA,GACC,CAACkN,IAAI,GAAG,GAAG,EAAExJ,OAAO,CAAC,CAAC,CAAC,EAAC,GAC3B;kBAAA;oBAAA5C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAY,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF;cAAC,GAlBT9D,IAAI;gBAAA2D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAmBL,CACP;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC,eAGRtG,OAAA,CAACb,KAAK;cACJ+T,QAAQ,EAAE9P,MAAM,CAACC,MAAM,CAAC4I,aAAa,CAAC,CAACkH,IAAI,CAACC,CAAC,IAAIA,CAAC,GAAG,GAAG,CAAC,GAAG,OAAO,GAAG,SAAU;cAChF7D,EAAE,EAAE;gBACFmB,EAAE,EAAE,CAAC;gBACL7P,UAAU,EAAE,GAAGuC,MAAM,CAACC,MAAM,CAAC4I,aAAa,CAAC,CAACkH,IAAI,CAACC,CAAC,IAAIA,CAAC,GAAG,GAAG,CAAC,GAAGjT,YAAY,CAACS,KAAK,GAAGT,YAAY,CAACO,OAAO,IAAI;gBAC9GmP,MAAM,EAAE,WAAW;gBACnBwC,WAAW,EAAEjP,MAAM,CAACC,MAAM,CAAC4I,aAAa,CAAC,CAACkH,IAAI,CAACC,CAAC,IAAIA,CAAC,GAAG,GAAG,CAAC,GAAGjT,YAAY,CAACS,KAAK,GAAGT,YAAY,CAACO,OAAO;gBACxG,kBAAkB,EAAE;kBAClBuE,KAAK,EAAE7B,MAAM,CAACC,MAAM,CAAC4I,aAAa,CAAC,CAACkH,IAAI,CAACC,CAAC,IAAIA,CAAC,GAAG,GAAG,CAAC,GAAGjT,YAAY,CAACS,KAAK,GAAGT,YAAY,CAACO;gBAC7F;cACF,CAAE;cAAA2E,QAAA,eAEFrF,OAAA,CAAC1B,UAAU;gBAAC+R,OAAO,EAAC,SAAS;gBAACd,EAAE,EAAE;kBAAE3G,UAAU,EAAE;gBAAI,CAAE;gBAAAvD,QAAA,EACnDjC,MAAM,CAACC,MAAM,CAAC4I,aAAa,CAAC,CAACkH,IAAI,CAACC,CAAC,IAAIA,CAAC,GAAG,GAAG,CAAC,GAC5C,sEAAsE,GACtE;cAAoD;gBAAAjN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9C;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC,eAGPtG,OAAA,CAACZ,QAAQ;MAACiU,EAAE,EAAE1G,WAAY;MAAAtH,QAAA,eACxBrF,OAAA,CAACtB,IAAI;QAAC6Q,EAAE,EAAE;UACRmB,EAAE,EAAE,CAAC;UACL7P,UAAU,EAAE,GAAGV,YAAY,CAACY,OAAO,IAAI;UACvC6O,cAAc,EAAE,YAAY;UAC5BC,MAAM,EAAE,aAAa1P,YAAY,CAACC,OAAO,IAAI;UAC7C0P,SAAS,EAAE,cAAc3P,YAAY,CAACC,OAAO;QAC/C,CAAE;QAAAiF,QAAA,eACArF,OAAA,CAACrB,WAAW;UAAA0G,QAAA,gBACVrF,OAAA,CAAC1B,UAAU;YAAC+R,OAAO,EAAC,IAAI;YAACd,EAAE,EAAE;cAC3BtK,KAAK,EAAE9E,YAAY,CAACc,IAAI;cACxB0O,EAAE,EAAE,CAAC;cACL/G,UAAU,EAAE,GAAG;cACf4H,OAAO,EAAE,MAAM;cACfP,UAAU,EAAE,QAAQ;cACpBQ,GAAG,EAAE;YACP,CAAE;YAAApL,QAAA,gBACArF,OAAA,CAACT,OAAO;cAACgQ,EAAE,EAAE;gBAAEtK,KAAK,EAAE9E,YAAY,CAACC;cAAQ;YAAE;cAAA+F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,uHAElD;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAEbtG,OAAA,CAACvB,IAAI;YAACsR,SAAS;YAACC,OAAO,EAAE,CAAE;YAAA3K,QAAA,gBACzBrF,OAAA,CAACvB,IAAI;cAACyR,IAAI;cAACC,EAAE,EAAE,EAAG;cAACC,EAAE,EAAE,CAAE;cAAA/K,QAAA,eACvBrF,OAAA,CAAC3B,KAAK;gBAACkR,EAAE,EAAE;kBAAEG,CAAC,EAAE,CAAC;kBAAE7O,UAAU,EAAE,GAAGV,YAAY,CAACa,YAAY,IAAI;kBAAE6O,MAAM,EAAE,aAAa1P,YAAY,CAACM,MAAM,IAAI;kBAAE2G,MAAM,EAAE;gBAAO,CAAE;gBAAA/B,QAAA,gBAC9HrF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,SAAS;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACe;kBAAc,CAAE;kBAAAmE,QAAA,EAAC;gBAEzE;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,IAAI;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACM,MAAM;oBAAEmI,UAAU,EAAE;kBAAI,CAAE;kBAAAvD,QAAA,GAC1E,CAAC,IAAI,GAAG3B,IAAI,CAACgB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAEqE,OAAO,CAAC,CAAC,CAAC,EAAC,UAC3C;gBAAA;kBAAA5C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eAEPtG,OAAA,CAACvB,IAAI;cAACyR,IAAI;cAACC,EAAE,EAAE,EAAG;cAACC,EAAE,EAAE,CAAE;cAAA/K,QAAA,eACvBrF,OAAA,CAAC3B,KAAK;gBAACkR,EAAE,EAAE;kBAAEG,CAAC,EAAE,CAAC;kBAAE7O,UAAU,EAAE,GAAGV,YAAY,CAACa,YAAY,IAAI;kBAAE6O,MAAM,EAAE,aAAa1P,YAAY,CAACQ,OAAO,IAAI;kBAAEyG,MAAM,EAAE;gBAAO,CAAE;gBAAA/B,QAAA,gBAC/HrF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,SAAS;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACe;kBAAc,CAAE;kBAAAmE,QAAA,EAAC;gBAEzE;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,IAAI;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACQ,OAAO;oBAAEiI,UAAU,EAAE;kBAAI,CAAE;kBAAAvD,QAAA,EAAC;gBAE/E;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eAEPtG,OAAA,CAACvB,IAAI;cAACyR,IAAI;cAACC,EAAE,EAAE,EAAG;cAACC,EAAE,EAAE,CAAE;cAAA/K,QAAA,eACvBrF,OAAA,CAAC3B,KAAK;gBAACkR,EAAE,EAAE;kBAAEG,CAAC,EAAE,CAAC;kBAAE7O,UAAU,EAAE,GAAGV,YAAY,CAACa,YAAY,IAAI;kBAAE6O,MAAM,EAAE,aAAa1P,YAAY,CAACS,KAAK,IAAI;kBAAEwG,MAAM,EAAE;gBAAO,CAAE;gBAAA/B,QAAA,gBAC7HrF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,SAAS;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACe;kBAAc,CAAE;kBAAAmE,QAAA,EAAC;gBAEzE;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,IAAI;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACS,KAAK;oBAAEgI,UAAU,EAAE;kBAAI,CAAE;kBAAAvD,QAAA,EAAC;gBAE7E;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC,eAEPtG,OAAA,CAACvB,IAAI;cAACyR,IAAI;cAACC,EAAE,EAAE,EAAG;cAACC,EAAE,EAAE,CAAE;cAAA/K,QAAA,eACvBrF,OAAA,CAAC3B,KAAK;gBAACkR,EAAE,EAAE;kBAAEG,CAAC,EAAE,CAAC;kBAAE7O,UAAU,EAAE,GAAGV,YAAY,CAACa,YAAY,IAAI;kBAAE6O,MAAM,EAAE,aAAa1P,YAAY,CAACO,OAAO,IAAI;kBAAE0G,MAAM,EAAE;gBAAO,CAAE;gBAAA/B,QAAA,gBAC/HrF,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,SAAS;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACe;kBAAc,CAAE;kBAAAmE,QAAA,EAAC;gBAEzE;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC,eACbtG,OAAA,CAAC1B,UAAU;kBAAC+R,OAAO,EAAC,IAAI;kBAACd,EAAE,EAAE;oBAAEtK,KAAK,EAAE9E,YAAY,CAACO,OAAO;oBAAEkI,UAAU,EAAE;kBAAI,CAAE;kBAAAvD,QAAA,EAAC;gBAE/E;kBAAAc,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAY,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACR,CAAC;AAEV,CAAC;AAACsF,GAAA,CAzqBID,qBAAqB;EAAA,QACVvK,YAAY;AAAA;AAAAkS,GAAA,GADvB3H,qBAAqB;AA2qB3B,eAAeA,qBAAqB;AAAC,IAAAjF,EAAA,EAAAe,GAAA,EAAAuB,GAAA,EAAAW,GAAA,EAAAgB,GAAA,EAAAG,GAAA,EAAAY,GAAA,EAAA4H,GAAA;AAAAC,YAAA,CAAA7M,EAAA;AAAA6M,YAAA,CAAA9L,GAAA;AAAA8L,YAAA,CAAAvK,GAAA;AAAAuK,YAAA,CAAA5J,GAAA;AAAA4J,YAAA,CAAA5I,GAAA;AAAA4I,YAAA,CAAAzI,GAAA;AAAAyI,YAAA,CAAA7H,GAAA;AAAA6H,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}